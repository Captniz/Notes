{"path":"SISTEMI/TeoriaQuinta/TCP_IP.pdf","text":"UNITÀ Guarda la presentazione dell'unità DDE+ Didattica Digitale |&=m- @OnLLMAMLMABMA L\u0019APPLICATION LAYER DEL TCP/IP IN QUESTA UNITA UNA VISIONE D\u0019INSIEME DELLA RETE INTERNET IL LIVELLO APPLICATION E | SUOI PROTOCOLLI TELNET: IL PROTOCOLLO PER L'EMULAZIONE DI TERMINALE FTP: IL PROTOCOLLO PER IL TRASFERIMENTO DI FILE HTTP: IL PROTOCOLLO PER LE APPLICAZIONI WEB SMTP, POP E IMAP: | PROTOCOLLI PER LA POSTA ELETTRONICA 1 PROTOCOLLI PER LE APPLICAZIONI MULTIMEDIALI VoIP: LA TECNOLOGIA PER LA VOCE LABORATORIO PACKET TRACER: SERVER SMTP E POP3 LABORATORIO PACKET TRACER: SERVER FTP LABORATORIO ONLINE TELNET E LA POSTA ELETTRONICA LABORATORIO ONLINE WIRESHARK: ANALISI DI HTTP, SMTP, POP3 Organizzare il software di comunicazione in livelli. Conoscere le principali ap- plicazioni utilizzate nelle reti TCP/IP e i relativi protocolli. Conoscere i principali pro- tocolli per le applicazioni multimediali. Saper usare i numeri di por- ta opportuni per le comu- nicazioni Client-Server tra applicativi. Configurare il software di re- te sugli host. Riconoscere le vulnerabi- lita dei protocolli di livello Application. Conoscere il funzionamento dei principali protocolli di li- vello Application. Saper scegliere il tipo di pro- tocollo in base all'applicazio- ne che si vuol utilizzare. Configurare, installare e ge- stire sistemi di elaborazione dati e reti FLIPPED CLASSROOM 358 A casa = Leggi la Lezione 2 di questa Unita; m esegui unaricerca sulle applicazioni attualmente più utilizzate su Internet che usano il paradigma Peer-to-Peer per svolgere attivita di: condivisione di file, comunicazione (Instant Mes- saging), distribuzione di contenuti (Content Delivery Network); m trasferisci la tua analisi in una tabella o mappa concettuale in cui elenchi le applicazioni che hai trovato, de- scrivendone caratteristiche, vantag- gi e svantaggi. = Confrontate i risultati descritti nelle tabelle o mappe realizzate; = discutete i motivi che spiegano le eventuali differenze, al fine di com- prendere meglio il funzionamento dell'instradamento nelle reti. UNITÀ 8 FIGURA 1 Le reti interconnesse con Internet 360 L'APPLICATION LAYER DEL TCP/IP UNA VISIONE D'INSIEME DELLA RETE INTERNET 1.1 L'interconnessione delle reti Nelle precedenti Lezioni e nel volume per il terzo anno, abbiamo descritto le varie componenti di Internet, la rete che interconnette miliardi di dispositivi in tutto il mondo. Più volte abbiamo ripreso e approfondito le varie parti, partendo dall\u0019hardwa- re, gli apparati di rete e le modalità di collegamento, per risalire lo stack TCP/IP fino ad arrivare alle applicazioni software, che offrono i servizi di rete agli utenti finali e sono descritte in questa Unità. Il viaggio nel mondo di Internet però non finisce qui, nel volume per il quinto anno riprenderemo nuovamente alcuni elementi per appro- fondire ulteriori caratteristiche e funzionalità, soprattutto dal punto di vista della si- curezza e della gestione. Inoltre, si descriveranno le modalità di accesso a Internet da rete mobile, con i nuovi protocolli e standard. La FiGURA 1 raffigura le varie componenti di Internet, evidenziando la suddivisione che abbiamo utilizzato più volte tra end system e intermediate system. Rete mobile Reti di altri ISP nazionali o globali Rete ISP nazionale o globale Rete ISP locale o regionale Rete aziendale UNA VISIONE D\u0019INSIEME DELLA RETE INTERNET In passato gli end system erano soprattutto computer, ancora al giorno d'oggi definia- mo Internet come una \u001ccomputer network\u001d, ma l'evoluzione della tecnologia e il numero sempre più elevato di connessioni ha ampliato la tipologia di end system, includendo di- spositivi di varia natura. Nelle reti domestiche, oltre a PC, laptop, tablet e smartphone, si connettono a Internet TV, console per il gioco, ma anche elettrodomestici e termostati che possono cosi essere gestiti da remoto. Analogamente la rete aziendale connette tra loro dispositivi wired e wireless come PC, smartphone, tablet e stampanti multifunzio- ne, dai quali, sulla base delle politiche aziendali, si accede a Internet. Nella Figura 1 si mostra la connessione delle reti periferiche, dove sono collocati gli end system, con le reti degli Internet Service Provider, formate dagli intermediate system, che inoltrano i pacchetti dati verso la destinazione, come visto nell\u0019Unita 5. 1.2 | protocolli per la comunicazione su Internet Nell'Unita 1 abbiamo descritto i modelli usati per organizzare la comunicazione in re- te, spiegando come il modello ISO/OSI sia ormai da considerare un modello di riferi- mento, mentre TCP/IP è l'architettura a livelli implementata su Internet. IETF (Internet Engineering Task Force) è I'ente internazionale di standardizzazione che si occupa del- le specifiche dei protocolli di Internet. I documenti pubblicati da IETF sono chiamati RFC (Request for Comments), spesso in questo volume abbiamo riportato l'abstract de- gli RFC per i protocolli più importanti. Nell'Unita 2 si & presentato un altro importante ente di standardizzazione, IEEE (Institute of Electrical and Electronics Engineers), che gestisce il progetto 802 pubblicando standard per reti PAN, LAN e MAN. Nelle successive Unita 3, 4, 5 e 6 sono stati descritti i protocolli di comunicazione e gli standard utilizzati nei livelli Network e Transport. Con I'Unita 7 siamo ancora saliti nello stack TCP/IP, prendendo in esame due servizi e protocolli di livello Application: il DHCP e il DNS. Si collocano al livello più alto in quanto sono applicazioni Client-Server, che offrono servizi fondamentali per la co- municazione su Internet, strettamente legati ai protocolli dei livello inferiore. In questa Unita si prendono in esame i protocolli che permettono agli utenti di un\u0018applica- zione di comunicare. Per esempio il protocollo HTTP è utilizzato per la comunicazione tra le applicazioni web client (i browser sul dispositivo dell\u0019utente) e le applicazioni web server (sui server del provider), realizzando così il servizio noto come WW W (World Wide Web). Le applicazioni che usano Internet sono applicazioni distribuite, che coinvolgono molti sistemi che scambiano dati tra loro. Per questo motivo il software sviluppato usufruisce dei servizi offerti dal livello Transport tramite le socket, le interfacce di rete viste nell\u0019Unita 6. Alivello più basso Internet & una rete formata da hardware e software che permette di interconnettere due dispositivi che necessitano di comunicare. A livello più alto, Internet è un'infrastruttura che fornisce servizi alle applicazioni distribuite su diversi sistemi. FISSA LE CONOSCENZE m Descrivi le tipologie di end system che si connettono alla rete Internet. m Con intermediate system quali tipologie di apparati si identificano? m Spiega che cosa significa che Internet & un'infrastruttura che fornisce servizi alle applicazioni distribuite. 361 UNITÀ 8 FIGURA 2 Il livello Application di TCP/IP corrisponde agli ultimi 3 livelli del modello osi 362 L f u L'APPLICATION LAYER DEL TCP/IP IL LIVELLO APPLICATION E | SUOI PROTOCOLLI 2.1 | protocolli del livello Application 1l livello Application dell'architettura TCP/IP ingloba le funzionalita svolte dai 3 li- velli più alti del modello OSI: Session, Presentation e Application. Questa scelta ha permesso ai programmatori di avere un buon grado di flessibilita nello sviluppo del- le applicazioni. Con l'analisi delle funzionalita tipiche del livello Application si & giunti all'origine dei dati che attraversano la rete: a questo livello si implementa l'interfaccia tra l\u0019utente e la rete, la comunicazione viene convertita in dati che possono essere trasferiti attra- VErso una rete (FIGURA 2). Livello Application in TCP/IP 2 Data Link 1 Physical @ 1 Physical Modello OSI Modello OSI Un protocollo di livello Application definisce: * i tipi di messaggi scambiati, per esempio: richiesta e risposta; * la sintassi di ciascun tipo di messaggio, per esempio quanti sono i campi presenti e quanto spazio occupano; * la semantica dei vari campi, qual è il contenuto informativo che trasportano; * le regole che sottendono al dialogo, quando e come l'applicazione invia un mes- saggio o risponde a uno ricevuto. Nelle Lezioni seguenti vedremo queste definizioni applicate ai protocolli relativi alle applicazioni più diffuse. 1 protocolli del livello Application supportano la comunicazione tra i processi client e server. Nelle Lezioni seguenti esaminiamo i più diffusi: dagli storici protocolli Telnet IL LIVELLO APPLICATION E | SUOI PROTOCOLLI ed FTP all\u0019'HTTP per il web e SMTP per la posta elettronica. Un importante proto- collo di livello Application comunemente usato per la gestione delle reti IP è il proto- collo SNMP (Simple Network Management Protocol) che sarà analizzato nel volume per il quinto anno dove si affronta la tematica della gestione della rete. Nell\u0019Unità 5 del volume del terzo anno, avevamo descritto i due modelli Client-Server e Peer-to-Peer applicati alle reti, li ritroviamo nei protocolli del livello Application: * Client-Server (C/S): è l'architettura software tra le più diffuse; fin dalle origini di Internet, infatti, la utilizzano applicazioni come il WW W, la posta elettronica e il file transfer; ogni servizio applicativo ha una componente client e una server: - il server è sempre attivo in attesa di ricevere le richieste dai molti client, ha un indirizzo IP assegnato staticamente e una porta TCP o UDP, di tipo Well Known nel caso delle applicazioni più diffuse; - un client si connette solo nel momento in cui deve comunicare con il server, so- vente ha un indirizzo IP assegnato dinamicamente; da notare che i client non comunicano direttamente tra loro; * Peer-to-Peer (P2P): è una comunicazione tra pari, gli utenti scambiano informa- zioni tra loro in modo cooperativo, mediante specifici protocolli; i peer non sono sempre connessi come i server e cambiano spesso I'indirizzo IP, quindi la gestione risulta più complessa. Le applicazioni Peer-to-Peer possono essere di file sharing, per esempio BitTorrent, di videoconferenza o telefonia su Internet come Skype e altre ancora. In generale, per usufruire di un servizio applicativo & necessario averne l'autorizzazio- ne, quindi gli utenti devono disporre di un account che viene loro concesso dall'am- ministratore del server remoto e che useranno ogniqualvolta vorranno inviare delle richieste al server. 2.2 Applicazioni Peer-to-Peer Nelle reti denominate Peer-to-Peer non c'è distinzione tra computer server e computer client. Infatti in questo modello ogni computer & considerato alla pari degli altri e sono i singoli utenti a decidere quali risorse del proprio computer condividere. Quando si passa da una rete P2P alle applicazioni P2P, lo scenario cambia, infatti un\u0018applicazione P2P permette al computer di agire sia come client sia come server all'interno di una stessa sessione di comunicazione. Ciò non è realizzabile a livello di rete P2P dove è consentito che un computer svolga sia il ruolo di client sia di server, ma su due distinte sessioni di comunicazione. Un'applicazione Peer-to-Peer non deve utilizzare una rete Peer-to-Peer necessariamente, puo anche funzionare con reti Client-Server. La FIGURA 3 mostra come è strutturata una generica applicazione P2P, sono presenti: e un portale web, denominato Login Server, a cui si connette un peer per verificare la disponibilita dei servizi desiderati; e un server, denominato Tracker, che fornisce al nuovo utente l'elenco dei peer di- sponibili; * i computer peer, che sono macchine anonime che si collegano al sistema quando ne hanno necessita. Una peculiarita delle architet- ture P2P è l'auto-scalabilita, per esempio: in un\u0018applica- zione di file sharing, alcuni peer scaricano un file gene- rando un certo traffico in re- te. Nel momento in cui met- tono a loro volta a disposi- zione il file per altri peer, au- mentano automaticamente la capacita del sistema. 363 UNITÀ 8 FIGURA 3 Architettura di una generica applicazione P2P 364 L'APPLICATION LAYER DEL TCP/IP Login Server Tracker Peer Peer Un'applicazione P2P è caratterizzata da 3 aspetti fondamentali: 1. ricerca: quando un nuovo peer utilizza I'applicazione P2P per prima cosa ricerca quali servizi, dati e peer sono disponibili; 2. locazione: il nuovo peer necessita di alcune informazioni utili a trovare il tracker dell'applicazione, per esempio il suo indirizzo IP, e i peer che hanno i dati che de- sidera. Inoltre, anche il nuovo peer deve fornire al tracker informazioni utili per la sua localizzazione e sui dati che possiede e puo rendere disponibili agli altri peer; 3. trasferimento dei dati: le applicazioni P2P utilizzano approcci diversi per realiz- zare le operazioni di upload e download dei dati desiderati dal peer. I più frequenti sono il metodo push, in cui & il peer che carica i dati a stabilire i peer destinatari degli stessi, e il metodo pull in cui & il peer che vuole scaricare i dati a inviare la ri- chiesta a un insieme di potenziali peer da cui effettuare il download. FISSA LE CONOSCE = Qual è la differenza tra il livello Application del modello OSI e quello dell'ar- chitettura TCP/IP? = Quali modelli di comunicazione si possono implementare a livello Application? m Descrivi le caratteristiche delle applicazioni Peer-to-Peer. TELNET: IL PROTOCOLLO PER L'EMULAZIONE DI TERMINALE LEZIONE 3 TELNET: IL PROTOCOLLO PER L'EMULAZIONE DI TERMINALE 3.1 La sessione Telnet Telnet è un protocollo Client-Server: la componente client di Telnet è un'applicazione di emulazione di terminale (testuale) che permette agli utenti di un sistema di acce- dere ad applicazioni che si trovano su host remoti, come se fossero direttamente con- nessi a tali sistemi. L'host di destinazione deve avere la componente server di Telnet. 1l procedimento puo essere ripetuto in quanto dall\u0019host remoto ci si puo connettere a un altro host e cosi via. Nella FiGURA 4 si mostra un tipico scenario Client-Server in cui viene utilizzato il protocollo Telnet: più client Telnet richiedono la connessione a un server Telnet. Sul server & in esecuzione un servizio chiamato Telnet Daemon. Le richieste dei client POURA & Tipico devono essere gestite sul computer server contemporaneamente e in modo separato. \u0014 scenario Client-Server Per far ciò il protocollo Telnet si affida alle funzionalita offerte dai livelli sottostanti. dell'applicazione Telnet Vediamo un semplice esempio di uti- lizzo di questa applicazione: un client [ Telnet _ Client Telnet viene avviato su un computer Windows per connettersi a un com- Application puter remoto Linux. Sul computer [ Telnet (Telnet Daemon Client Client 1 Windows si apre una finestra che consente all'utente di lavorare diret- i tamente sul computer Linux. Luten- Telnetks;tafver \u0018Application \"Application te deve possedere un account che gli Application consenta l\u0019accesso al computer remoto, \u0014 Telnet quindi prima di poter inviare comandi Server Clleny ed eseguire applicazioni, I'utente deve \u001cApplication essere autenticato. In generale, non si usa Telnet per connettere un computer Windows con un altro computer Windows, perché Windows ha una propria modalita per connettere i suoi computer attra- verso una rete: la funzionalita Connessione desktop remoto. Inoltre, dalla versione Win- dows Vista non è più disponibile il comando Telnet dal Prompt dei comandi, in modalita predefinita, pero è possibile ripristinarlo dal Pannello di controllo. è PROBLEMA Abilitare Telnet su Windows 10. è SVOLGIMENTO Su Windows 10 il client Telnet è disabilitato, ma può essere abilitato dal Pannel- lo di controllo: in Programmi selezionare la voce Attiva o disattiva funzionalita di Windows e spuntare la casella relativa a Telnet. Per attivare Telnet & poi necessario eseguire |'applicazione Prompt dei comandi come amministratore (tasto destro) e digitare: C:\\>dism /online /Enable-Feature /FeatureName:TelnetClient 365 UNITÀ 8 #p ota Il protocollo Telnet è uno dei primi protocolli applicativi creato per la suite TCP/IP. Come altri servizi applica- tivi nati insieme a Internet, Telnet è ormai poco usato su reti pubbliche, nella sua forma originale, a causa del- la scarsa sicurezza che offre. Telnet è ancora utilizzato per il test dei servizi di rete presenti sui web server e di posta elettronica, in quanto permette di inviare, in modo semplice, i comandi e di esa- minarne le risposte. Telnet è anche utilizzato per collegar- si come console ad apparati di rete, per esempio per ac- cedere a un router remoto. 366 L'APPLICATION LAYER DEL TCP/IP 3.2 Lo standard del protocollo Telnet Le specifiche di Telnet furono definite agli inizi degli anni Ottanta e sono contenute negli RFC 854 e RFC 855. IN EN ISH PL Network Working Group J. Postel Request for Comments: 854 J. Reynolds ISI Obsoletes: NIC 18639 May 1983 TELNET PROTOCOL SPECIFICATION 1. INTRODUCTION The purpose of the TELNET Protocol is to provide a fairly general, bi-directional, eight-bit byte oriented communications facility. Its primary goal is to allow a standard method ofinterfacing terminal devices and terminal-oriented processes to each other. Itis envisioned that the protocol may also be used for terminal-terminal communication (linking) and process-process communication (distributed computation). Telnet utilizza TCP come protocollo di trasporto e la porta 23. I dati e i comandi so- no trasmessi in formato ASCII a 8 bit. Alcuni dei principali comandi di Telnet sono: e open host [port] apre una sessione Telnet su host usando port; close chiude la sessione Telnet; display mostra i parametri relativi alla sessione; send code invia caratteri speciali al server; status visualizza lo stato attuale della sessione. 1 comandi che invia il client al server devono essere preceduti da un carattere di escape per far si che il server interpreti le informazioni ricevute come comandi e non come dati. La versione originale di Telnet offre un livello minimo di sicurezza per controllare T'accesso al computer remoto, realizzato con username e password, che, però, vie- ne a cadere dal momento che i dati viaggiano in chiaro sulla rete. Limpiego di SSH (Secure SHell) rende il protocollo più sicuro grazie all'uso della crittografia. Molte sono le implementazioni del protocollo Telnet che si possono scaricare gra- tuitamente da Internet. Un esempio, valido sia in ambiente Unix che Windows, è il software PuTTY che offre un client Telnet con crittografia, utilizza infatti SSH-2. 1l sito web &: http://www.chiark greenend.org.uk/~sgtatham/putty. FISSA LE CONOSCENZE = Qual è lo scopo originario del protocollo applicativo Telnet? m In quali altri casi può essere utilmente impiegato Telnet? m Telnet è l'unica modalita per potersi connettere a un computer remoto? = Descrivi alcuni comandi tipici di Telnet. FTP: IL PROTOCOLLO PER IL TRASFERIMENTO DI FILE LEZIONE 4 FTP: IL PROTOCOLLO PER IL TRASFERIMENTO DI FILE 4.1 Gli standard del protocollo FTP 11 File Transfer Protocol (FTP) è un protocollo per il trasferimento di file tra un computer client e un server. FTP è stato standardizzato negli anni Ottanta e le sue specifiche sono descritte nell\u0019RFC 959. IN ENGLISH PLEASE Network Working Group J. Postel Request for Comments: 959 J. Reynolds ISI Obsoletes RFC: 765 (IEN 149) October 1985 FILE TRANSFER PROTOCOL (FTP) 1. INTRODUCTION The objectives of FTP are 1) to promote sharing of files (computer programs and/or data), 2) to encourage indirect or implicit (via programs) use of remote computers, 3) to shield a user from variations in file storage systems among hosts, and 4) to transfer data reliably and efficiently. FTP, though usable directly by a user at a terminal, is designed mainly for use by programs. A distanza di pochi anni dalla specifica di FTP venne definita una versione più legge- ra denominata Trivial File Transfer Protocol (TFTP), specificata nell\u0019RFC 1350. La novita fu la sostituzione del protocollo di trasporto TCP, utilizzato in FTP, con UDP, port 69. TFTP è ancora usato per trasferire file all'interno di una rete locale, per via della maggior sicurezza che offre la LAN (TFTP non prevede né autenticazione né cifratura) e della bassissima percentuale di pacchetti errati o persi. IN ENGLISH PLEASE Network Working Group K. Sollins Un esempio di applicazione Request For Comments: 1350 MIT TFTP, gratuita, è Solarwinds STD: 33 July 1992 TFTP Server, utilizzata so- prattutto per lavorare sugli apparati di rete per opera- THE TFTP PROTOCOL (REVISION 2) zioni di upload, backup o di configurazione. Obsoletes: RFC 783 [..] 1. Purpose TFTP is a simple protocol to transfer files, and therefore was named the Trivial File Transfer Protocol or TFTP. It has been implemented on top of the Internet User Datagram protocol (UDP or Datagram) [2] so it may be used to move files between machines on different networks implementing UDP. (This should not exclude the possibility of implementing TFTP on top of other datagram protocols.) It is designed to be small and easy to implement. Therefore, it lacks most of the features of a regular FTP. The only thing it can do is read and write files (or email) from/to a remote server. It cannot list directories, and currently has no provisions for user authentication. 367 UNITÀ 8 FIGURA 5 Modalità attiva di FTP 368 L'APPLICATION LAYER DEL TCP/IP Attualmente ci sono molti modi per trasferire file attraverso una rete dati (come Internet) che utilizzano tecnologie non specificatamente pensate a questo scopo, per esempio email, instant messaging, chat e web server. Tutte queste applicazioni of- frono il vantaggio di un'interfaccia familiare a chi le usa quotidianamente, ma man- cano della robustezza che offre un\u0018applicazione di file transfer creata a questo scopo. 4.2 La connessione tra client e server FTP A differenza di altri protocolli, FTP utilizza due canali per la comunicazione tra client e server: e un canale viene utilizzato per l'invio di comandi, e relative risposte, tra client e server; questo canale viene sempre aperto in direzione client \u0014 server e utilizza la porta 21, chiamata porta di controllo; e laltro canale è utilizzato per l'invio dei dati, viene quindi aperto in direzione server \u0014 client e utilizza la porta 20 , chiamata porta dati. La connessione tra client e server pud avvenire secondo due modalita: FTP active mode e FTP passive mode. @ FTP ACTIVE MODE La FiGURA 5 mostra lo scambio di messaggi tra client e server FTP nella modalita atti- va: il client si connette da una porta qualsiasi N (con N > 1.023) alla porta di controllo del server, la porta 21, e si mette in ascolto sulla porta dati N + 1 inviando al server il comando Port N+1. Il server si connette alla porta dati specificata dal client (N + 1) utilizzando la propria porta dati, la porta 20. FTP Server FTP Client 0 21 5030 5031 DATA COMMAND COMMAND DATA @ \u0018i client apre la porta comandi 9 ., (5030) per il colloquio con il server e gli comunica il numero vo@ì\u0002î\u0018 di porta da usare per i dati (5031). @ 1 server, usando la porta 21, ( conferma la connessione con il client. l\\ OK @ \u0018i server apre la porta dati 20 Data chanp, per la comunicazione con la porta 5031 del client. @ I dient invia un riscontro (ACK) di conferma ricezione. 1P ACK Da questo punto in poi inizia il trasferimento dei dati dalla porta 20 alla porta 5031 (Data Channel). Questa modalita comporta problemi di sicurezza nel lato client: infatti non & il client FTP che si connette alla porta dati del server, esso segnala solo al server su quale porta è in ascolto. Sara il server che aprira un canale verso questa porta per I'invio dei dati. Quindi se nel lato client & presente un firewall questi rileva un tentativo di intrusione dall'esterno e lo blocca. ò FTP: IL PROTOCOLLO PER IL TRASFERIMENTO DI FILE Per questo motivo è attualmente sconsigliato l\u0019uso di FTP active mode, per poter ga- rantire la sicurezza della rete locale (intranet). M FTP PASSIVE MODE La FIGURA 6 mostra lo scambio di messaggi tra client e server FTP nella modalita pas- siva: il client FTP inizia entrambe le connessioni con il server, sia comandi che dati, risolvendo in questo modo il problema del filtraggio della connessione da parte del firewall lato client. Il client apre localmente due porte N e N+1 (con N > 1.023) e con la porta N, la porta comandi, contatta il server sulla porta 21. A questo punto invia un comando PASV che permette al server di aprire una porta casuale P (con P > 1.023) e inviare il comando Port P al client sulla sua porta comandi N. Il client inizia allo- ra la connessione dalla sua porta dati N + 1 alla porta P sul server per ricevere i dati. FTP Server FTP Client 20 21 5030 5031 DATA COMMAND COMMAND DATA @ ! client apre la porta comandi e è e è (5030) per il colloquio con /.\u0018 il server richiedendo di usare ppsV la modalita passiva (comando PASV). */ 2545 . Il server apre la porta 2545 (numero casuale) _'.\\ per il trasferimento dei dati e ne comunica il numero al client. @ ! client apre la porta dati 5031 /.\u0018 per la comunicazione con ata \u0018\u001c\u0019\u001cM\\ la porta 2545 del server. D a Il server invia un riscontro (ACK) | di conferma ricezione. Da questo punto in poi inizia TCp 4, il trasferimento dei dati dalla porta 2545 alla porta 5031 î (Data Channel). 4.3 Le modalità di accesso al server FTP FTP ha due modalità predefinite di accesso: utente e anonima. La modalità utente prevede un accesso al server FTP con username e password, men- tre nella modalità anonima si ha accesso come utente anonymous. Quest'ultima è molto utilizzata per scambio di dati pubblici, come modulistica, codice, ecc. La modalita di accesso anonima presenta due limitazioni: ® è necessario limitare l\u0019accesso alle sole informazioni che si vogliono diffondere; * non deve essere permesso l\u0019uso di FTP server per la distribuzione di materiale di terzi (per esempio si può rendere la cartella di upload accessibile solo in scrittura e non in lettura). Se possibile, per la sicurezza del sistema, è meglio evitare di usare l'accesso anonimo. Nel caso in cui sia proprio necessario, esso deve essere configurato correttamente LEZIONE 4 FIGURA 6 Modalita passiva di FTP 369 UNITÀ 8 370 Esercizio commentato Trasferimento di una cartella con FTP L'APPLICATION LAYER DEL TCP/IP e amministrato con attenzione, soprattutto se si vuole rendere accessibili in upload, quindi scrivibili, delle directory (o cartelle) nelle aree FTP anonymous. @ CLIENT E SERVER FTP Sono disponibili vari software FTP, a pagamento o distribuiti con licenza open source. Solitamente i software client FTP sono gratuiti e permettono di collegarsi a un server FTP per caricare un file trasferendolo dal proprio computer o per scaricare un file dal server. Loperazione di upload di un file & tipicamente svolta quando si utilizza un servizio di hosting di un sito web e si necessita di caricare le pagine web sul server per pubblicar- le. Uno dei software client FTP più diffusi è Filezilla, gratuito e disponibile per sistemi 'Windows, Mac e Linux. Scaricando questo software sul proprio computer & possibile in modo semplice e sicuro caricare i file delle nostre pagine web sul web server del provider. La sicurezza è data dall'utilizzo della crittografia nel trasferimento dei dati, tecnica non prevista nella specifica originale di FTP, come descritto nel paragrafo successivo. Filezilla offre anche il software per il server FTP, ma solo per sistemi Windows. Il sito del progetto da cui scaricare il software e la documentazione è: https://filezilla-project.org. 4.4 Le vulnerabilita di FTP 1 maggiori problemi di sicurezza di FTP sono riconducibili al fatto che le specifiche non prevedono la cifratura delle informazioni scambiate tra client e server: e password in chiaro: le password viaggiano in chiaro attraverso la rete e sono fa- cilmente intercettabili con strumenti come gli sniffer che consentono di analizza- re il traffico tra client e server; ® dati in chiaro: anche i dati vengono trasferiti senza essere crittografati, anch\u0019essi sono dunque intercettabili. La soluzione a questi problemi è stata una nuova specifica di FTP denominata FTP over TLS (FTPS, RFC 4217) che aggiunge un livello tra Transport (TCP) e Application (FTP), per la gestione della crittografia, utilizzando il protocollo Transport Layer Security (TLS). TLS è una versione più recente del protocollo Secure Sockets Layer (SSL). Altri problemi di sicurezza sono legati a: * sessione in due processi: la necessita di avere due processi per ogni connessione rende più semplice effettuare manovre malevole; e permessi utente: i permessi di accesso FTP vanno incrociati con i permessi utente sul server in modo da limitare lo spazio su disco e le operazioni sui file. Con il diffondersi del World Wide Web, molti utenti preferiscono usare il browser co- me FTP client. La maggior parte dei browser supporta solo la modalita passiva quan- do si accede con ftp://URL. FISSA CONOSCENZE = Qual è lo scopo dei protocolli applicativi FTP e TFTP? = Quali modalita di colloquio tra un client FTP e un server FTP possono essere implementate? = Quali sono le porte Well Known utilizzate per FTP? = Quali modalita di accesso al server sono previste in FTP? = Quali sono le maggiori vulnerabilita del protocollo FTP? HTTP: IL PROTOCOLLO PER LE APPLICAZIONI WEB E3 HTTP: IL PROTOCOLLO PER LE APPLICAZIONI WEB 5.1 HTTP e WWW HTTP (HyperText Transfer Protocol) è il protocollo di livello Application usato nell\u0019applicazione Client-Server WWW (World Wide Web), la parte di Internet più usata e cresciuta più velocemente. Il protocollo HTTP regola lo scambio di messaggi tra il web server e il web client (si parla anche di HTTP server e HTTP client o anche di WWW server e WW W client). Nell'uso comune il client corrisponde al browser e il server al sito web. La FiGURA 7 mostra un semplice esempio di comunicazione nel WWW che utilizza il protocollo HTTP: * il browser è il programma client dell\u0019applicazione, esempi sono Edge, Firefox, Chrome, Opera. Il browser svolge due funzioni fondamentali: inoltra la richie- sta di una pagina web al server (HTTP request) e presenta i dati ricevuti (HTTP response) all'utente. Le pagine web sono create con un linguaggio chiamato #HTML (HyperText Markup Language); * il web server contiene le pagine web del sito e risponde alle richieste che riceve dai web client, i più diffusi web server sono Apache, open source e multi-piattaforma, e Internet Information Services (IIS) per i sistemi Windows. Server con web server Apache FIGURA 7 Comunicazione Client-Server con HTTP Smartphone Android PC con browser Firefox con browser Chrome Il WWW e i suoi protocolli sono nel tempo diventati la piattaforma di comunicazio- ne per applicazioni quali la posta elettronica, per esempio Gmail, per distribuzione di video, per esempio YouTube, e per la maggior parte delle applicazioni mobile che usano Internet. @ GLI STANDARD HTTP/1.0, HTTP/1.1, HTTP/2 E HTTP/3 La prima versione del protocollo HTTP (HTTP/1.0) è stata standardizzata in RFC 1945 in cui sono definite le modalita di scambio dei messaggi tra client e server e la struttu- LEZIONE S HTML E il linguaggio nato per realiz- zare i siti web, utilizzato anche per la creazione di contenuti e di applicazioni mobile. Non è un linguaggio di pro- grammazione ma di markup (contrassegno), che permet- te di indicare come disporre i vari elementi all'interno di una pagina web. 371 UNITÀ 8 L'APPLICATION LAYER DEL TCP/IP : ra dei messaggi HTTP. Lo standard fu il risultato del lavoro congiunto di IETF e di W3C è la più importante or- W3C (World Wide Web Consortium). ganizzazione internaziona- le per il WWW, formata da IN ENGLISH PLE aziende informatiche, opera- tori telefonici, organizzazioni Network Working Group T. Berners-Lee no-profit, universita e centri Request for Comments: 1945 MIT/LCS di ricerca. Oltre alla defini- Category: Informational R. Fielding zione degli standard, svilup- UC irvine pa software open source per il WWW. B Erystyic MIT/LCS M\\/. May 1996 Hypertext Transfer Protocol -- HTTP/1.0 Abstract The Hypertext Transfer Protocol (HTTP) is an application-level protocol with the lightness and speed necessary for distributed, collaborative, hypermedia information systems. It is a generic, stateless, object-oriented protocol which can be used for many tasks, such as name servers and distributed object management systems, through extension of its request methods (commands). A feature of HTTP is the typing of data representation, allowing systems to be built independently of the data being transferred. HTTP has been in use by the World-Wide Web global information initiative since 1990. This specification reflects common usage of the protocol referred to as \u001cHTTP/1.0\". In pochi anni, grazie alla diffusione del browser grafico Mosaic, il WWW crebbe enormemente e divennero evidenti alcuni limiti della prima versione di HTTP: e la mancanza di meccanismi di sicurezza, perché non erano previste l'autenticazio- ne e la crittografia dei dati; * non era possibile ospitare più siti web sullo stesso server; ® per ogni richiesta era necessario creare una connessione separata con il server; per esempio se nella pagina web erano presenti delle immagini, il client doveva inol- trare ulteriori richieste al server per scaricarle. 11 protocollo fu ampliato e venne specificata una nuova versione HTTP/1.1 pubbli- cata in RFC 2616 nel 1999. Queste specifiche sono state completamente riviste nel 2014 e descritte nei nuovi RFC 7230, 7231, 7232, 7233, 7234 e 7235. Nel 2015 esce una nuova versione denominata HTTP/2 e descritta in RFC 7540 e in RFC 8740 che esprime la semantica del web in modo più efficiente e utilizza TLS (Transport Layer Security). In via di standardizzazione & la nuova versione HTTP/3 che utilizza UDP in sosti- tuzione di TCP. E gia supportata da browser come Chrome e Firefox dal 2019. Le nuove versioni HTTP/2 e HTTP/3 non rendono obsolete le precedenti versio- nidi HTTP. 372 HTTP: IL PROTOCOLLO PER LE APPLICAZIONI WEB 5.2 Le modalità di lavoro di HTTP Gli #hyperlink (collegamenti ipertestuali) permettono una facile navigazione: quan- do si fa clic su un hyperlink si dirige il browser su una nuova pagina. Ogni pagina web ha un suo indirizzo simbolico detto URL (Uniform Resource Locator), per esempio http://www.azienda.com/news/ (TABELLA 1), dove la parte ini- ziale http:// indica al browser il protocollo da usare e la seconda parte www indica il servizio o la macchina in rete. Per conoscere I'indirizzo IP corrispondente al nome del computer si utilizza il DNS. HTTP è avviato da TCP/IP ogni qualvolta I'URL contiene nel primo campo la paro- la http. TABELLA 1 HTTP identifica le risorse del WWW mediante un indirizzo simbolico: URL indica al browser identifica il nome rappresenta |'entita identifica la cartella quale protocollo di una specifica di dominio (domain | dove si trova la pagina deve essere usato macchina (il web entity) del sito web | web sul server. Se non server) viene specificato nulla, il browser carica la pagina web di default presente sul server Quando si vuole leggere una pagina, i livelli superiori del client iniziano una sessio- ne col web server. Il client fa la richiesta della pagina desiderata, il server risponde inviando la risorsa richiesta: il testo, l'audio, il video, i file grafici contenuti in quella pagina. Il client riassembla il tutto e chiude la sessione. LHTTP è un protocollo stateless (senza memoria) che permette sia la ricerca che il recupero dell'informazione in maniera veloce, seguendo gli hyperlink. La scelta di un protocollo stateless, cioé di un protocollo che non conserva memoria della connes- sione fatta, & stata necessaria affinché fosse possibile saltare velocemente da un web server a un altro attraverso i link ipertestuali. HTTP a ogni richiesta di un web client effettua una nuova connessione al web ser- ver che viene chiusa al termine del trasferimento dell'oggetto richiesto (pagina HT- ML, immagine, ecc.). 1l server resta in attesa di una richiesta di connessione sulla sua socket, la porta as- segnata di default per HTTP è la 80, salvo che nell'URL sia specificata una porta di- versa, per esempio http://www.azienda.com/news/:8080. La caratteristica stateless di HTTP limita l'interazione con l'utente, per esempio se effettuiamo il login su una pagina, nel momento in cui ci spostiamo su un\u0018altra dob- biamo nuovamente inserire le nostre credenziali. La soluzione a questo problema & stata l'introduzione dei #cookie, piccoli blocchi di dati memorizzati nel browser che permettono di: * implementare metodi di autenticazione, usati per esempio per i login; e memorizzare dati utili alla sessione di navigazione, come le preferenze sull'aspetto grafico o linguistico del sito; * tracciare la navigazione dell'utente, per esempio per fini statistici o pubblicitari. LEZIONE 5 Hyperlink Gli ipertesti (hypertext), gra- zie agli hyperlink, abbandona- no la secolare abitudine alla lettura lineare, sequenziale, stabilita dall'autore di un te- sto, per passare a una lettu- ra che vede il lettore come protagonista, non più come fruitore passivo. Ciò che con- sente questo processo sono gli hyperlink o \u001cparole calde\u001d: ad alcuni termini di un iperte- sto viene associata la possibi- lita di collegarsi, col semplice clic del mouse, ad altre par- ti dell'ipertesto. Il percorso di lettura che ne consegue, quindi, è deciso dal lettore. Si pud pensare la lettura di un ipertesto come una forma di lettura ramificata, che, di link in link, porta il lettore diretta- mente al cuore di ciò che gli interessa leggere. Cookie (biscotto) Sono file di testo di piccola dimensione inviati da un web server a un web client e poi rimandati indietro dal client al server, senza subire modi- fiche, ogni volta che il client accede allo stesso server. Poi- ché possono essere usati per monitorare la navigazione su Internet, i cookie sono ogget- to di discussioni concernenti il diritto alla privacy. 373 UNITÀ 8 374 L'APPLICATION LAYER DEL TCP/IP 5.3 | metodi e i messaggi di HTTP L'acquisizione di una risorsa da parte del client può essere schematizzata in 4 fasi: connessione: il client crea una connessione TCP/IP con il server usando il suo nome di dominio (o I'indirizzo IP) ed eventualmente il numero della porta di tra- smissione; come detto, se non viene fornito il numero di porta, il protocollo assu- me per default che il numero sia 80; richiesta: il client invia la richiesta di una risorsa (pagina HTML, immagine, ecc.) mediante una riga di caratteri ASCII che termina con una coppia di caratteri CR-LF (Carriage Return, Line Feed); risposta: la risposta inviata dal server & un messaggio in linguaggio HTML nel quale & contenuta la risorsa richiesta o una segnalazione d'errore; disconnessione: il server subito dopo aver spedito la risorsa richiesta si discon- nette. Anche il client può interrompere la connessione in ogni momento; in questo caso il server non registrera nessuna condizione d'errore. 1l protocollo HTTP mette a disposizione del client una serie di metodi. Un metodo HTTP può considerarsi un comando, proprio del protocollo HTTP, che il client in- via come richiesta al server. La versione HTTP/1.0 ha 3 metodi obbligatori: GET, HEAD, POST. Alcune imple- mentazioni di HTTP/1.0 ne aggiungono altri due: PUT e DELETE. In HTTP/1.1 sono stati aggiunti altri 3 metodi: OPTIONS, TRACE e CONNECT. Nel dettaglio: GET: richiede una risorsa (pagina HTML, immagine, ecc.) al server; quando un utente fa clic su un hyperlink il client invia una GET al server; HEAD: richiede solo I'header senza la risorsa, di fatto viene usato soprattutto per la diagnostica; POST: invia informazioni al server, cioè all'URL specificato; PUT: richiede 'upload di un file sul server, creandolo o riscrivendolo (se autorizzato); DELETE: richiede la cancellazione di un file sul server (se autorizzato); OPTIONS: richiede l'elenco dei metodi permessi dal server; TRACE: traccia una richiesta, visualizzando come viene trattata dal server; CONNECT: richiede una connessione mediante proxy, utilizzata, per esempio, per la creazione di un tunnel. Vi sono due tipi di messaggi HTTP: messaggi richiesta (request) da parte del client e messaggi risposta (response) da parte del server. M IL MESSAGGIO REQUEST E composto dalle seguenti 3 parti: 1. riga di richiesta (request line); 2. sezione header (informazioni aggiuntive); 3. body (contenuto della richiesta). La riga di richiesta è composta da metodo, URI e versione del protocollo. URI sta per Uniform Resource Identifier e indica l'oggetto della richiesta. Per esempio per ottenere una pagina web la richiesta è: GET /info.html HTTP/1.1. HTTP: IL PROTOCOLLO PER LE APPLICAZIONI WEB Gli header di richiesta più comuni sono: e Host: nome del server a cui si riferisce l\u0019URI; * User-Agent: identificazione del tipo di client: browser, produttore, versione, ecc. M IL MESSAGGIO RESPONSE È composto dalle seguenti 3 parti: 1. riga di stato: contiene un codice di risposta a 3 cifre in cui la prima cifra specifi- ca il tipo di stato: \u0014 1xx: Informational (messaggi informativi); \u0014 2xx: Success (la richiesta è stata soddisfatta); - 3xx: Redirection (non c'è risposta diretta, ma la richiesta è ritenuta corretta e viene detto come ottenere la risposta); \u0014 4xx: Client error (la richiesta non può essere soddisfatta perché sbagliata); \u0014 5xx: Server error (la richiesta non può essere soddisfatta per un problema in- terno del server). 2. header: contengono informazioni aggiuntive. Quelli più comuni sono: - Server: indica il tipo e la versione del server. Può essere visto come l'equivalente dell\u0019header di richiesta User-Agent; - Content-Type: indica il tipo di contenuto restituito. Essi sono detti tipi MIME (Multimedia Internet Message Extensions, presenti anche nella posta elettronica, come descritto nella Lezione successiva). Esempi di tipi MIME sono: \u0014 text/html (documento HTML); \u0014 text/plain (documento di testo non formattato); \u0014 text/xml (documento XML); \u0014 image/jpeg (immagine in formato JPEG). 3. body: ¢ la parte in cui si trova il contenuto della risposta. I codici di risposta più comuni sono: \u0014 200 OK: il server ha fornito correttamente il contenuto nella sezione body; - 400 Bad Request: la richiesta non & comprensibile al server; \u0014 403 Forbidden: il client non è autorizzato a ricevere i dati richiesti; \u0014 404 Not Found: la risorsa richiesta non è stata trovata e non se ne conosce l\u0019u- bicazione; - 500 Internal Server Error: il server non ¢ in grado di rispondere alla richiesta per un suo problema interno; \u0014 505 HTTP Version Not Supported: la versione di HTTP non è supportata. Un server HTTP ha il compito (che può risultare computazionalmente dispendioso) di rispondere a tutte le richieste che giungono dalla rete. Si pensi che WWW server di siti professionali raggiungono facilmente le 300.000 richieste al giorno. La versione HTTP/1.1 ha permesso di aumentare l'efficienza consentendo di utiliz- zare la stessa connessione TCP/IP per effettuare operazioni multiple. 5.4 | proxy HTTP Un web server e un web client possono utilizzare un #proxy HTTP (detto anche proxy server) per gestire lo scambio di messaggi. La presenza di un proxy server fa si che le richieste HTTP dei client vengano automaticamente indirizzate al proxy. LEZIONE 5 Proxy E un programma che si inter- pone tra un client e un server facendo da tramite o interfac- cia. ll client si collega al proxy, invece che al server, e gli in- via delle richieste. Il proxy, a sua volta, si collega al server e inoltra la richiesta del client, poi, ricevuta la risposta, la inoltra al client. | proxy nella maggior par- te dei casi lavorano a livello Application. 375 376 L'APPLICATION LAYER DEL TCP/IP Un proxy HTTP può essere usato per diversi motivi: * connettività: un proxy server può essere configurato per permettere a una rete privata di accedere a Internet con un unico computer, cioè un computer fa da proxy tra gli altri computer e Internet; * privacy: un proxy server pud garantire un maggiore livello di privacy mascherando il vero indirizzo IP del client in modo che il server remoto non venga a conoscenza di chi ha effettuato la richiesta; e caching: un proxy server può immagazzinare per un certo tempo i risultati delle richieste di un client e se un altro client effettua le stesse richieste, può risponde- re senza dover consultare il server originale. Collocando il proxy in una posizione \u001cvicina\u001d (prossima) ai client, questo permette un miglioramento delle prestazioni e una riduzione del consumo di ampiezza di banda; e monitoraggio: un proxy server può permettere di tenere traccia di tutte le ope- razioni effettuate (per esempio, tutte le pagine web visitate), consentendo stati- stiche e osservazioni dell'utilizzo della rete che possono anche violare la privacy degli utenti; e amministrazione: un proxy server può applicare regole definite dall\u0019ammini- stratore di sistema per determinare quali richieste inoltrare e quali rifiutare, può limitare I'ampiezza di banda utilizzata dai client oppure filtrare le pagine web in transito, per esempio bloccando quelle il cui contenuto è ritenuto offensivo in ba- se a determinate regole. I server esterni a cui si collega il client quando si utilizza un proxy vedranno gene- ralmente l'indirizzo IP del proxy (e non quello del client). Se I'uso di un proxy ga- rantisce una relativa privacy del client (il server esterno, o chi analizzi il traffico diretto a esso, non potra infatti conoscere I'indirizzo IP del client), può impedire la connessione a quei siti che utilizzino I'indirizzo IP del client per scopi di autenti- cazione o di riconoscimento delle sessioni (come per esempio nei collegamenti agli sportelli bancari online). 11 protocollo HT TP prevede perd che un proxy server possa inserire nelle richieste che inoltra al server degli header standardizzati, che permettono di riconoscere che la richiesta è stata inoltrata da un proxy e possono contenere anche l\u0019indiriz- zo IP del client, che in questo modo può essere noto a un server remoto oppor- tunamente configurato. Quando viene usata questa funzionalita, il web server remoto si fida dell\u0019indirizzo del client inviatogli dal proxy server non potendo in alcun modo verificare questa informazione. Lamministratore di un proxy server può decidere se inviare o meno questi header determinando quindi il livello di anonimato del proxy. 1 proxy HTTP, a seconda dell'anonimato che riescono a fornire, possono essere sud- divisi in: e NOA (NOn Anonymous Proxy Server) proxy non anonimi (o trasparenti): modi- ficano alcuni header trasmessi dal browser e ne aggiungono altri, mostrano anche l'indirizzo IP reale del richiedente. Sono facili da riconoscere da parte del web server; e ANM (Anonymous Proxy Server) proxy anonimi: non trasmettono I'IP del richie- dente, ma modificano o aggiungono alcuni header. Sono pertanto facilmente ri- conoscibili; HTTP: IL PROTOCOLLO PER LE APPLICAZIONI WEB * HIA (HIgh Anonymous Proxy) proxy altamente anonimi (o élite): non trasmetto- no I'IP del richiedente e non modificano gli header della richiesta. Sono difficili da riconoscere attraverso i normali controlli; e proxy distorcenti: trasmettono un IP casuale, diverso da quello del richiedente e modificano o aggiungono alcuni header. Solitamente vengono scambiati per proxy anonimi, ma offrono una protezione maggiore, in quanto il web server remoto ve- de le richieste di un utente provenienti da indirizzi IP diversi. Per vedere se il proxy server consente una navigazione anonima, ossia se non rivela I'IP del client a nessun altro server della rete, & bene effettuare un whois (Lezione 7 dell\u0019Unita 5). Il server del sito per il whois deve restituire I'IP del proxy server; se in- vece rende visibile un IP diverso, presumibilmente si tratta di quello del client e il test è fallito. 5.5 La sicurezza con HTTPS Per garantire la sicurezza nelle transazioni commerciali o in generale nel trasferi- mento di dati sensibili, si usa il protocollo HTTPS (HyperText Transfer Protocol over Secure Sockets Layer). Le differenze tra HTTPS e HTTP sono sostanzialmente due: e lutilizzo della porta 443 al posto della 80; ® l'applicazione del protocollo TLS/SSL. In pratica tra il protocollo TCP e il protocollo HTTP si interpone un livello di critto- grafia/autenticazione come il Secure Sockets Layer (SSL) o il Transport Layer Security (TLS), in modo da impedire intercettazioni dei contenuti. Infatti, viene implementata una tecnica di crittografia asimmetrica che utilizza chiavi private e pubbliche a lungo termine, per generare chiavi di sessione a breve termine. Queste chiavi sono utilizzate successivamente per cifrare il flusso dei dati scambiati tra client e server. Un sito web non può avere dei contenuti accessibili con HTTPS e altri con HTTP, per esempio la pagina di login su HTTPS e le altre pagine su HTTP: cid implicherebbe una vulnerabilita a possibili attacchi. Inoltre, se il sito è su HTTPS, anche i cookie devono essere trasmessi in modo sicuro. E quindi necessario impostare un parametro, chiamato Secure attribute, che segna- la al browser di inviare il cookie solo su HTTPS e mai su HTTP. FISSA LE CONOSCENZE = Qual & il compito del protocollo HTTP? m Che cos'è un hyperlink? m Che cos'è un metodo HTTP? = Quali sono gli 8 metodi dell'HTTP/1.1? = Quali sono i 2 tipi di messaggi HTTP? = Qual & il ruolo del proxy server in una comunicazione HTTP? 377 UNITÀ 8 FIGURA 8 Invio e ricezione di una email con i protocolli SMTP e IMAP 378 L'APPLICATION LAYER DEL TCP/IP =} SMTP, POP E IMAP: | PROTOCOLLI PER LA POSTA ELETTRONICA 6.1 Invio e ricezione di email La posta elettronica (electronic-mail o email) & una delle prime applicazioni nate con Internet e continua a essere una delle più importanti e utilizzate. La FiGURA 8 mostra le fasi di invio, trasmissione in rete e ricezione di una email. = client mittente client destinatario É S| \u0018 MTP IMAP ! Mailbox Mailbox Mail , Mail server | server Collegamento tra server SMTP Sono evidenziate le componenti principali di un sistema di posta elettronica: e Mail client, è I'applicazione di email utilizzata dall\u0019utente per inviare/ricevere email, per esempio Outlook o Thunderbird; * Mail server, è l\u0019applicazione di email che risiede sui server: riceve e inoltra i mes- saggi, gestisce le caselle di posta, mailbox, degli utenti; l\u0019insieme dei server costi- tuisce l\u0019infrastruttura del sistema di posta elettronica; * i protocolli, sono stati definiti più protocolli per la posta elettronica: SMTP (Simple Mail Transfer Protocol) per l\u0019invio delle email e per la comunicazione tra i mail server, POP3 (Post Office Protocol, version 3) e IMAP4 (Internet Message Access Protocol version 4) per la ricezione delle email. M LA POSTA ELETTRONICA SUL WEB Un\u0018alternativa allo scenario presentato in Figura 8 è il sistema web-based email, o webmail, nel quale I'utente utilizza il browser per inviare e ricevere le email. Il pri- mo a offrire un servizio di webmail fu Hotmail, a meta degli anni Novanta, seguito poi da altri, come Google Gmail e Yahoo! Mail. In questo scenario cambia il client di email: non è più un programma, ma un'inter- faccia utente fornita tramite pagine web. Quando l'utente accede alle pagine web del SMTP, POP E IMAP: | PROTOCOLLI PER LA POSTA ELETTRONICA servizio di email gli viene chiesto di autenticarsi con login e password. Queste cre- denziali sono inviate al server che le valida, costruisce sul momento una pagina web con il contenuto della mailbox e la invia all\u0019utente. Linvio e la ricezione dei messaggi avviene quindi con il protocollo HTTP, essendo una comunicazione tra web client e web server. Il web server si occupera poi di introdurre i messaggi nel tradizionale sistema di posta elettronica basato sul protocollo SMTP. @ GLI INDIRIZZI DELLA POSTA ELETTRONICA Ogni utente (client) & individuato da un indirizzo di posta composto dal user ID dell'u- tente seguito dal simbolo @ e dal dominio del gestore del servizio di posta elettronica: nomeutente@dominiogestoreservizio Per esempio: bianchi@azienda.com. Se il client mittente e il client destinatario usufruiscono dello stesso fornitore del servizio email (quindi hanno lo stesso dominio, per esempio azienda.com) allora il server SMTP ha il compito semplificato perché con un semplice programma, chia- mato delivery agent, puo direttamente depositare la email nella mailbox. Se invece i fornitori sono diversi, e dunque sono diversi i domini, il server SMTP del mittente deve interrogare il DNS (Domain Name System) per risalire dal nome di dominio all'indirizzo IP del server SMTP del destinatario. Per associare il server SMTP a un dato nome di dominio si usa un Resource Record di tipo MX (Mail eXchange), come visto nella Lezione 6 dell\u0019Unità 7. 6.2 Il protocollo SMTP 11 protocollo SMTP gestisce il trasferimento del messaggio di posta elettronica dal mittente al destinatario. La prima versione del protocollo SMTP è del 1982 contenuta nell'RFC 821, ma era gia utilizzato da molti anni dagli utenti di Internet. SMTP è stato revisionato nel 2008, RFC 5321, con successivi aggiornamenti riguardanti I'uso dei codici di risposta. IN NGLISH PLEASE Network Working Group Request for Comments: 5321 Obsoletes: 2821 Updates: 1123 Category: Standards Track J. Klensin October 2008 Simple Mail Transfer Protocol Abstract This document is a specification of the basic protocol for Internet electronic mail transport. It consolidates, updates, and clarifies several previous documents, making all or parts of most of them obsolete. It covers the SMTP extension mechanisms and best practices for the contemporary Internet, but does not provide details about particular extensions. Although SMTP was designed as a mail transport and delivery protocol, this specification also contains information that is important to its use as a \u001cmail submission\u001d protocol for \u001csplit-UA\u001d (User Agent) mail reading systems and mobile environments. Lingegnere informatico ame- ricano Ray Tomlinson nel 1971 invento la posta elet- tronica elaborando un pro- gramma che permetteva a tutti coloro che frequenta- vano le universita america- ne, collegate tra loro tramite la rete ARPANET, di potersi scambiare messaggi scrit- ti. Lo stesso Tomlinson nel 1972 usò il simbolo @ (at, cioè \u001cpresso\u001d in inglese, chioccio- lain italiano) come separato- re tra il nome del destinatario e il server che svolgeva le fun- zioni di cassetta della posta. Nel marzo del 2010, Paola Antonelli, Senior Curator del Department of Architecture and Design del MoMA di New York, ha reso noto che la chiocciola è stata inserita nella collezione, perché non è soltanto uno strumento utilizzato in informatica, ma è un mezzo di comunicazio- ne e una forma della nostra identita. 379 UNITÀ 8 FIGURA 9 |l sistema di posta elettronica L'APPLICATION LAYER DEL TCP/IP La FIGURA 9 mostra il sistema di email su Internet. Come descritto nelle specifiche di SMTP si usano i seguenti termini per riferirsi al software utilizzato su client e server: e Mail User Agent (MUA) ¢ il software client sul computer dell'utente, il mittente & chiamato sender e il destinatario recipient; questo programma offre un'interfaccia grafica con funzionalita per la composizione, lettura e organizzazione delle email; e Mail Submission Agent (MSA) è il software che risiede sul mail server al quale l'utente invia una email tramite il MUA; * Mail Delivery Agent (MDA) ¢ il software che risiede sul mail server e gestisce la mailbox dalla quale I'utente legge la email ricevuta; e Mail Transfer Agent (MTA) è il software che risiede sui mail server che si occu- pano dell'inoltro della email all'interno del sistema di posta elettronica. 1 distinti ruoli che ciascun software MTA, MSA e MDA assume nella trasmissione di un messaggio di posta elettronica possono essere svolti da uno stesso programma che risiede nel server e implementa più funzionalita. Nei sistemi di posta webmail il MUA è rappresentato dall\u0019interfaccia web eseguita nel browser del computer dell'utente. mittente destinatario Mail server @ port 25 Mail server del mittente del destinatario ooy aa @ port 465 0 587 con TLS aa Gmail) @ POP3 port 110 0 995 con TLS di Microsoft) IMAP port 143 0 993 con TLS SMTP @ MSA q . MUA MUA Relay server Relay server (per es. Microso (per es. Thunderbird) l SMTP SMTP Outlook) POP3/IMAP SMTP SMTP SMTP MTA T- MTA T- MTA @| MA \"Oz\"v:\u0018r\u001d ..T.\u0014I Se confrontiamo la posta elettronica con il servizio di posta tradizionale, il software MTA svolge un ruolo analo- go all'ufficio postale locale e MSA è I'analogo dell'im- piegato che smista la posta ricevuta. Se il destinatario vive nello stesso comune, la lettera è data direttamente al postino che la recapita nella casella di posta del riceven- te, in caso contrario viene trasmessa all'ufficio postale (MTA, per email) del comu- ne dove abita il destinatario. 380 Analizziamo le fasi di invio e ricezione di una email mostrate nella Figura 9 entrando nel dettaglio di ciò che succede sui server: * invio: il mittente (sender) invia al server una email utilizzando il software MUA pre- sente sul suo dispositivo, questa viene presa in carico dal mail server che gestisce la sua mailbox, in particolare dal software MSA, con una connessione TCP alla porta 25 del server. MSA invia il messaggio al software MTA, presente sullo stesso mail server, affinché lo inoltri al mail server che gestisce la mailbox del destinatario (recipient); e transito: 'MTA del mittente apre una connessione TCP verso I'MTA del mail server di destinazione, sempre tramite la porta 25, sulla quale trasmette il mes- saggio di posta elettronica. Nel mail server di destinazione, il messaggio & invia- to da MTA al software MDA che lo memorizza nella mailbox del destinatario. A volte la connessione tra i due mail server non è diretta, ma il messaggio passa attraverso più MTA presenti su server intermedi, chiamati relay server; * ricezione: il client destinatario utilizza il software MUA per connettersi alla por- ta 110 del server POP3 o alla porta 143 per IMAP4 e accedere alla sua mailbox per leggere il messaggio ricevuto. SMTP, POP E IMAP: | PROTOCOLLI PER LA POSTA ELETTRONICA Qualora il server SMTP destinatario non risulti raggiungibile, il server SMTP mit- tente prova a rispedire la email per un certo periodo di tempo. Se l\u0019invio continua a fallire, il server mittente invia al client mittente una segnalazione di mancato recapi- to (badmail o delivery failure). M LA SICUREZZA DI SMTP 1l protocollo SMTP non garantisce né l\u0019autenticazione del mittente né l\u0019autorizzazio- ne all\u0019invio, chiunque può spedire una email a chiunque. Per questi motivi lo #spamming non può essere in alcun modo limitato ed è inoltre possibile inviare email facendo apparire come mittente l\u0019indirizzo corrispondente a un altro account. Inoltre, nelle specifiche originarie di SMTP, non è previsto I'impiego della crittogra- fia e i messaggi sono trasmessi in chiaro nella rete. Questo problema è stato risolto con l'utilizzo di connessioni TLS (Transport Layer Security) e la registrazione presso IANA di un\u0019altra porta, la 465, da utilizzare in so- stituzione della porta 25. La maggior parte dei provider non utilizza più la porta 25 per la connessione tra client e server SMTP sia perché affetta dal traffico di spam e malware, sia perché la richiesta di un servizio di confidenzialita implica l'utilizzo di connessioni TLS che usano la porta 587 (RFC 6409) o la porta 465 (RFC 8314). La porta 25 con- tinua a essere usata per le connessioni tra i relay server SMTP. La porta 587 è stata definita per sostituire la porta 25, introducendo un nuovo co- mando STARTTLS da utilizzare quando il client vuole stabilire una connessione si- cura con TLS. Infatti, mentre con la porta 465 è implicito I'uso di TLS, con la porta 587 deve essere esplicitamente richiesto con il comando STARTTLS. M IL FORMATO DELLE EMAIL 1l formato dei messaggi di posta elettronica è definito nell\u0019RFC 5322. I Una email è formata da un header (envelope) e il testo del messaggio (content o body). Lenvelope contiene le informazioni utili per la spedizione del messaggio. Lo standard specifica le parole chiave da usare in ogni linea, separate da una virgola, alcune sono obbligatorie, per esempio From e To, altre opzionali, per esempio Subject. Un tipico header di una email è: From: bianchi@azienda.com To: rossi@academy.edu Subject: Richiesta articolo Dopo l'envelope si inserisce una riga vuota, da li in avanti c'¢ il testo del messaggio in ASCII (American Standard Code for Information Interchange). SMTP è stato progettato per incidere il meno possibile sull'occupazione del cana- le. Per questo motivo utilizza il codice ASCII a 7 bit per codificare i caratteri del messaggio. #techwords E l'invio indiscriminato di mes- saggi di posta elettronica. La mailbox dell'utente vie- ne inondata di email spesso pubblicitarie, ma anche con- tenenti link dannosi e allegati con virus o malware. Il nome SPAM deriva da Shoulder of Pork And haM (spalla di ma- iale e prosciutto), carne in sca- tola immessa sul mercato nel periodo della Seconda guerra mondiale, diventata sinonimo di fastidiosa e non richiesta valanga di materiale. 381 UNITÀ 8 esercizio L'APPLICATION LAYER DEL TCP/IP Per inviare dei caratteri accentati, o comunque non compresi nei primi 128 caratteri codificati dall\u0019ASCII a 7 bit, bisogna ricorrere ad algoritmi che integrino le specifiche #MIME (Multipurpose Internet Mail Extensions): * base64 per i file in allegato; * quoted-printable (abbreviazione QP) per i caratteri speciali contenuti nel corpo del messaggio. # chwords MIME e MIME type Lo standard MIME fu propo- sto da Bell Communication nel 1991 per sopperire alle li- mitazioni di SMTP e consen- tire agli utenti di inviare email con caratteri non-ASCII7 e file contenenti immagini, au- dio, video e programmi (file binari). MIME é utilizzato anche dal web server per comunicare al browser il tipo di dati che gliviene inviato nella risposta (MIME type). 382 + PROBLEMA Nella propria casella di posta elettronica, selezionare un messaggio con un file pdf al- legato ed esaminarne il contenuto codificato in #MIME. Ripetere I'analisi su messaggi con altri tipi di allegati, immagini, video, ecc. = SVOLGIMENTO Nel servizio di posta Gmail per vedere il contenuto del messaggio nel formato MIME si deve aprire il messaggio e selezionare la voce Mostra originale nel menu con i tre puntini. La stessa procedura si pud seguire con il servizio di posta elettro- nica Yahoo! Mail selezionando la voce Visualizza messaggio in formato Raw. Il testo che compare è il seguente, relativo a una email con un file pdf allegato. MIME-Version: 1.0 Date: Sun, 24 Gen 2021 09:49:26 +0100 Message-ID: <CAAO7sbcbZDryMw4-ZWHj5PaLs6eTVJOur8SrcyjEHpzNhrv87g@mail. gmail.com> Subject: PROVA From: user1@gmail.com To: user2@yahoo.com Content-Type: multipart/mixed; boundary=\"0000000000003dba8005b4a92079\" --0000000000003dba8005b4a92079 Content-Type: multipart/alternative; boundary=\"0000000000003dba7d05b4a92077\" --0000000000003dba7d05b4a92077 Content-Type: text/plain; charset=\"UTF-8\" Messaggio di prova con allegato --0000000000003dba7d05b4a92077 Content-Type: text/html; charset=\"UTF-8\" <div dir=\"ltr\">Messaggio di prova con allegato<br></div> --0000000000003dba7d05b4a92077 \u0014 --0000000000003dba8005b4a92079 Content-Type: application/pdf; name=\"ocument.pdf\u001d Content-Disposition: attachment; filename=\"ocument.pdf\u001d Content-Transfer-Encoding: base64 X-Attachment-Id: f_khsiuwid0 Content-ID: <f_khsiuwid0> --0000000000003dba8005b4a92079 \u0014 SMTP, POP E IMAP: | PROTOCOLLI PER LA POSTA ELETTRONICA Vediamo i vari campi presenti: = MIME-Version:1.0, indica che il messaggio è nel formato MIME; = Content-Type: multipart/mixed, indica che sono presenti parti in formato testo e altre parti non testuali; m Content-Type: multipart/alternative, indica che il messaggio è inviato in più forma- ti, nel nostro esempio il contenuto del messaggio si presenta sia come normale te- sto sia in html; = boundary=\"...\", è una stringa che separa le parti del messaggio MIME, nel nostro esempio sono definite due stringhe, una delimita le due parti del contenuto, plain e html, |'altra delimita la parte che contiene |'allegato; = Content-Type: text/plain, specifica il tipo di formato, text, e il sottotipo, plain, contenuto in quella parte del messaggio; text/plain è il formato predefinito di Content-Type; = Content-Type: text/html, specifica il tipo di formato, text, e il sottotipo, html, con- tenuto in quella parte del messaggio; u Content-Type: application/pdf, specifica il tipo di formato, application, e il sot- totipo, pdf, del file allegato, il cui nome è specificato nel campo name. Altri for- mati sono previsti per i vari tipi di allegati, per esempio: image/jpeg, audio/mp3, video/mp4; m Content-Disposition: attachment, indica di presentare il file come un allegato con il nome specificato nel campo filename; I'alternativa ad attachment è inline, che in- dica di visualizzare in automatico il contenuto del file quando la email viene aperta (si usa soprattutto per le immagini); = Content-Transfer-Encoding: base64, indica che il contenuto del messaggio è stato codificato secondo lo schema base64 e quindi il client deve operare la necessaria decodifica per consentire all'utente di leggere il messaggio nella sua codifica ori- ginale, per esempio UTF-8. @ | PRINCIPALI COMANDI DI SMTP 1 comandi SMTP hanno il seguente formato: keywords : parametri Non tutti i comandi prevedono dei parametri. La TABELLA 2 elenca i comandi principali definiti per la comunicazione dal client ver- so il server SMTP. TABELLA 2 | principali comandi SMTP EHLO EHLO 193.56.47.125 Identifica il computer mittente attraverso I'indirizzo IP o il (sostituisce HELO) nome del dominio. EMAILFROM: MAIL FROM: mittente@dominiol.com [ Specifica il mittente del messaggio. RCPT TO: | RCPT TO: destinatario@dominio2.com [ Specifica il destinatario del messaggio. DATA | DATA messaggio | Indica l'inizio del contenuto del messaggio, che sara inviato linea per linea. QUIT QUIT Chiude la connessione TCP con il server SMTP. 1l server SMTP a sua volta spedisce dei messaggi di risposta al client che gli ha invia- to i comandi. Ogni risposta inizia con un codice identificativo di 3 cifre, opzional- mente seguito da un testo informativo. Alcuni codici e il relativo testo sono elencati nella TABELLA 3. 383 UNITÀ 8 TABELLA 3 Codici di alcune risposte inviate dal server SMTP al client SMTP è un protocollo pu- sh (spingi): il mail server del mittente invia il file al mail server del destinatario. Il de- stinatario ottiene il messag- gio con un\u0018operazione pull (estrai), quindi sono stati de- finiti i protocolli di accesso POP3 e IMAP4, o HTTP per la webmail. TABELLA 4 | principali comandi POP3 L'APPLICATION LAYER DEL TCP/IP Positive Completition Informa che I'azione richiesta dal client & stata portata Reply a termine con successo. Positive Intermediate 3xx Informa il client che il comando è stato accettato, Reply ma l'azione richiesta & in sospeso. Transient Negative 4xx Informa il client che il comando non è stato accettato per Completition Reply una situazione di errore temporanea, il client può provare a inviare di nuovo il comando. Permanent Negative Sxx Informa il client che il comando non è stato accettato e Completition Reply | che il server non è in grado di eseguire |'azione richiesta. 6.3 |l protocollo POP 11 protocollo POP & il primo a essere stato definito per l\u0019accesso al server di posta per scaricare i messaggi dalla mailbox. Ha subito varie modifiche dalla sua prima versio- ne, l'attuale versione è POP3 definita nel'RFC 1939. Con POP3 i messaggi di posta elettronica, per essere letti, vengono scaricati in locale sul computer e cancellati dal server. Questo risulta particolarmente utile qualora il client abbia convenienza a leggere le email offline, ma se si usa una webmail non sara più possibile leggere le email dopo averle scaricate. E comunque sempre possibile configurare il client per lasciare una copia del messag- gio nella mailbox del server. Le porte definite per POP3 sono la 110 e la 995 per le connessioni TLS. Questo protocollo gestisce l'autenticazione attraverso username e password. Quest'ul- tima, come le email, non è cifrata. Per poter codificare la password e beneficiare di unautenticazione sicura è possibile selezionare un servizio opzionale che solo pochi server implementano. 11 protocollo POP3 blocca la casella postale durante la consultazione al fine di evitare una consultazione simultanea da due utenti. 1 principali comandi POP3 sono riportati nella TABELLA 4. USER identificativo Questo comando permette di autenticarsi. Esso deve essere seguito dal nome dell'utente, cioé da una stringa di caratteri che identificano I'utente sul server. Il comando USER deve precedere il comando PASS. PASS password | Il comando PASS permette di indicare la password dell'utente il cui nome è specificato nel _ comando USER precedente. STAT RETR DELE LIST [msg] NOOP \u0018 Informazione sui messaggi contenuti sul server. Numero di messaggi da recuperare. Numero di messaggi da cancellare. \" Numero di messaggi da visualizzare. Permette di mantenere le connessioni aperte in caso di inattivita. TOP <messagelD> <n> ' Comando che visualizza n linee di messaggio, dove n & dato in argomento. In caso di risposta positiva da parte del server, questo rinvia le intestazioni del messaggio, poi una linea vuota e infine le n prime linee del messaggio, indipendentemente dalla sessione. QUIT f Chiede l'uscita del server POP3. Esso implica la cancellazione di tutti i messaggi segnati come eliminati e rinvia lo stato di questa azione. 384 SMTP, POP E IMAP: | PROTOCOLLI PER LA POSTA ELETTRONICA 6.4 |l protocollo IMAP4 IMAP4 è un protocollo di accesso per leggere i messaggi ricevuti nella mailbox, come POP3. Questo protocollo è particolarmente indicato per i client in grado di mante- nere una connessione continua a un server (online), infatti permette di sincronizzare il client con il server. IMPA4 è stato definito nell\u0019RFC 3501 per superare le limitazioni di POP3, infatti of- fre molte più possibilita: e accesso alla posta sia online sia offline: il client rimane connesso e risponde al- le richieste che I'utente fa attraverso l'interfaccia; questo permette di risparmiare tempo se ci sono messaggi di grandi dimensioni; * più utenti possono utilizzare la stessa casella di posta: permette connessioni si- multanee alla stessa mailbox, fornendo meccanismi per controllare i cambiamen- ti apportati da ogni utente; ® accesso a singole parti di un messaggio: la maggior parte delle email sono trasmes- se nel formato MIME, che permette una struttura ad albero del messaggio, dove ogni ramo è un contenuto diverso (intestazioni, allegati o parti di esso, messaggio in un dato formato, ecc.). Il protocollo IMAP4 permette di scaricare una singola parte MIME o addirittura sezioni delle parti, per avere un\u0018anteprima del messag- gio o per scaricare una email senza i file allegati; * informazioni sui messaggi presenti nella mailbox: ogni singolo client pud tenere traccia di ogni messaggio, per esempio per sapere se è gia stato letto o se ha avu- to una risposta; * organizzazione in cartelle (folder) delle email ricevute: si possono creare, modifi- care o cancellare cartelle sul server. Con IMAP4 i messaggi, sia della cartella Posta in arrivo sia delle altre cartelle, ri- marranno sempre sul server e sul computer client ne sara scaricata soltanto una co- pia. Si potra quindi accedere alla propria casella da piu dispositivi e ritrovare tutte le email, purché tutti gli accessi avvengano via IMAP4 o webmail e non con POP3. Le porte definite per IMAP4 sono la 143 e la 993 per le connessioni TLS. FISSA LE CONOSCENZE Descrivi le fasi di invio e ricezione di una email. Da quali parti è composto un indirizzo di posta elettronica? Quale codice utilizza il protocollo SMTP e perché? In che modo il protocollo POP3 gestisce l'autenticazione dell'utente? L] = = m |l protocollo SMTP non offre garanzie di sicurezza. Perché? - m Perché è stato introdotto il protocollo IMAP4? LABORATORIO TELNET E LA POSTA ELETTRONICA Lattivita di laboratorio consiste nell'inviare una email utilizzando una sessione Telnet tra il no- stro computer client e il server SMTP, tramite la porta 25, e poi, tramite la porta 110, collegarsi al server POP3 per ricevere la stessa email. LABORATORIO WIRESHARK: ANALISI DI HTTP, SMTP, POP3 Lattivita di laboratorio consiste nell'utilizzo di Wireshark per esaminare i dati che vengono scam- biati tra un web client e un web server con HTTP eidati scambiati tra dient e server di posta elettro- nica con SMTP e POP3. 385 UNITÀ 8 #techw. Jitter indica una variabilità nel tempo di arrivo dei pac- chetti. Se il ritardo è costante il destinatario riceverà il mes- saggio in modo comprensibi- le. Se invece i pacchetti subi- scono ritardi variabili, I'effet- to sarà di una comunicazione a scatti. Questo concetto è stato in- trodotto nell'Unità 8 del vo- lume 2 a proposito della QoS (Quality of Service) applica- ta alle comunicazioni di tipo interattivo. Streaming Application Esempi di fornitori di con- tenuti in streaming on demand sono Amazon Prime video, Hulu, Netflix, Spotify e Youtube. EE hulu NETFLIX @ E YouTube Facebook Live e Periscope sono esempi di fornitori di live streaming. ria (9] 386 L'APPLICATION LAYER DEL TCP/IP | PROTOCOLLI PER LE APPLICAZIONI MULTIMEDIALI 7.1 La classificazione delle applicazioni multimediali Le applicazioni multimediali in rete si occupano del trasferimento di dati di tipo audio e video attraverso la rete. La possibilità di trasmettere segnali audio e video in rete consente di avere forme più avanzate di comunicazione, ma richiede un elevato impiego di risorse, decisamen- te maggiore rispetto ad altri tipi di trasmissione. Infatti, prima di essere trasmessi in rete i segnali audio/video devono essere digitalizzati e compressi. Tipicamente, le applicazioni multimediali sono classificate in 3 categorie: le appli- cazioni memorizzate su un server di streaming, le applicazioni live e le applicazio- ni interattive. M STORED STREAMING APPLICATION 1 dati multimediali sono memorizzati su un server e trasmessi al client su richiesta (on demand). Si dice che sono trasmessi in streaming, perché il client è in grado di visualizzarli subito, prima che il trasferimento sia completato. Questa caratteristica comporta stringenti vincoli temporali, per la consegna dei dati ancora da inviare, affinché la fruizione da parte del client sia adeguata (un ritardo di 5-10 secondi è ancora accettabile). La trasmissione avviene in modalità unicast e si adatta al di- spositivo e alla disponibilità di banda dell'utente. Lo streaming sul client è visualiz- zato tramite un media player che cerca di rimuovere i #jitter, decomprimere i dati, visualizzare i controlli per un uso interattivo da parte dell\u0019utente. Alcuni esempi sono: visione di film, serie TV, ascolto di brani musicali. @ LIVE STREAMING APPLICATION La trasmissione dei dati di queste applicazioni è simile alla diffusione dei programmi radio e televisivi; la differenza è che la trasmissione avviene attraverso la rete Internet. Anche in questo caso, come nel precedente, si tratta di traffico sensibile al ritardo e non è possibile ritrasmettere i pacchetti. La differenza è che le applicazioni di tipo stored streaming prevedono una trasmissione dei contenuti on demand, mentre in quelle live streaming la trasmissione è in diretta e può anche essere in multicast per servizi come IPTV (la trasmissione on demand è invece sempre unicast). In una trasmissione live i contenuti vengono inseriti dal fornitore del servizio, man mano che si rendono disponi- bili. Ciò comporta un processo di compressione dei dati più veloce e meno ottimizzato, che può tradursi in una maggiore quantita di dati da trasmettere in rete. Alcuni esempi sono: IPTV, Internet radio, videogiochi online, concerti online. @ INTERACTIVE APPLICATION Si tratta di applicazioni di tipo interattivo, con esigenze di trasmissione in tempo reale: bassissimo jitter e nessuna ritrasmissione. Tali requisiti sono in genere soddisfatti attraverso il sovradimensionamento della rete o la definizione di classi di priorita nell\u0019assegnazione della banda (rimane però il problema se il carico della rete aumenta considerevolmente). Alcuni esempi sono: telefonia via Internet, audio/video conferenza. | PROTOCOLLI PER LE APPLICAZIONI MULTIMEDIALI 7.2 Real Time Streaming Protocol Per soddisfare le esigenze delle applicazioni di streaming audio e video è stato stan- dardizzato il protocollo RTSP (Real Time Streaming Protocol), RFC 7826, che si colloca al livello Application dello stack TCP/IP e segue il paradigma Client-Server tipico di Internet. RTSP offre all\u0019utente quei comandi, tipici dei player, che HTTP non è in grado di fornire (play, pause, ecc.), inoltre tiene traccia dello stato del client in ogni sessio- ne (esempi di stato del client sono: riproduzione, fermo immagine, ecc.). A questo scopo, il protocollo RTSP numera le sessioni e questi valori sono usati come iden- tificatori nelle richieste e risposte RTSP, per aiutare il server a mantenere lo stato delle sessioni aperte con i vari client. RTSP non definisce come i LEZIONE 7 Un\u0018applicazione che tratta streaming audio/video de- ve poter fornire all'utente i comandi che normalmen- te si usano sui player, ossia: rewind, fast forward, pause, resume, repositioning, ecc. FIGURA 10 Le operazioni previste dal protocollo RTSP HTTP Request dati audio/video devono es- < +dI e sere incapsulati per realizza- HTTP Response con metafile E re lo streaming sulla rete, né specifica come devono essere SETUP > trasportati. PLAY > La FIGURA 10 mostra uno scambio di messaggi RTSP tra . client e server: il browser del media stream client contatta il web server PAUSE È (HTTP Request), questi invia 'I come risposta un metafile E TEARDOWN N (HTTP response con metafile) contenente le informazioni necessarie per avviare il download dei dati in streaming (URL, tipo di codifica dei da- ti, ecc.), il browser avvia il player il quale contatta il server per instaurare una sessione RTSP (Setup). Da qui in poi avviene la riproduzione, fino alla chiusura (Teardown). client 7.3 Real Time Transport Protocol 1 protocolli di livello Transport tipici di Internet (TCP e UDP) non sono adatti per il traffico generato dalle applicazioni real time interattive. Quindi è stato stan- dardizzato un protocollo ad hoc, per gestire questo tipo di dati: il protocollo RTP (Real Time Transport Protocol), RFC 3550, che si colloca tra il livello Transport e il livello Application. In particolare si interfaccia con il protocollo UDP dello strato Transport (FIGURA 11). FIGURA 11 La collocazione di RTP nello stack TCP/IP RTP definisce un formato = standard per i pacchetti mul- m\u0018 \u0019 MPEG MPEG Application timediali e deve essere inte- |{| | A\u001cd Vdeo Vdeo Layer grato all'interno dell'appli- __ _ _ _ _ _ _ cazione: e RTP è un processo attivo a Transport livello di end system e spe- Layer dficalastrutturachedevo- S| sportano dati audio/video; Layer 387 UNITÀ 8 L'APPLICATION LAYER DEL TCP/IP * i pacchetti RTP sono incapsulati all\u0019interno di una socket UDP; * in ricezione, i dati applicativi devono essere estratti dai pacchetti RTP e passati al player per la riproduzione. RTP viene usato insieme a un altro protocollo: RTCP (Real Time Transport Control Protocol), che svolge il compito di raccogliere statistiche al fine di ottimizzare le pre- stazioni. Tutti i partecipanti a una sessione (relativa, per esempio, a una partita online con più giocatori) inviano pacchetti RTCP, siano essi mittenti o destinatari. I rapporti statistici contengono dati sul numero di pacchetti inviati, persi, jitter, ecc. e sono usati dall\u0019'applicazione per modificare la velocita di trasmissione della sorgente. Per evitare che I'invio di pacchetti RTCP da parte di tutti i partecipanti alla sessione crei congestione, è stata definita una semplice regola: la banda totale usata per i pac- chetti RTCP deve essere il 5% della banda utilizzata per la sessione RTP e di questa ne viene riservato il 25% al mittente e il 75% ai destinatari. 388 Supponiamo di avere la trasmissione di un video con una banda di 2 Mbps con il 5% della banda riservato ai pacchetti RTCP. Trasformando 2 Mbps in 2.000 Kbps e applicando il 5% otteniamo che la banda riser- vata è pari a 100 Kbps. Dei 100 Kbps viene usato il 75% dai destinatari (75 Kbps). 7.4 Le reti CDN per le applicazioni multimediali Una rete CDN (Content Distribution Networks) risponde all'esigenza dei fornitori di servizi di streaming di distribuire i contenuti su più server collocati in varie aree geografiche. La CDN si occupa della gestione di questi server: memorizza una copia dei video da trasmettere e indirizza le richieste degli utenti al server che meglio po- tra soddisfarle. Uno stesso video non viene memorizzato su tutti i server della CDN; se un client lo richiede a un server in cui non & presente, questi lo recuperera da un altro server della CDN e mentre lo trasmette in streaming al client, lo memorizza nel suo repository. Una CDN può essere privata, è il caso di Netflix e di Google per i video di YouTube, oppure di terze parti, un esempio è la CDN di Akamai. FISS LE CONOSCENZE = Quali sono le problematiche del trasporto su Internet di dati generati da ap- plicazioni multimediali? m Come si classificano le applicazioni multimediali? = Quale protocollo è stato standardizzato per il trasporto dei dati delle appli- cazioni stored streaming? m Come avviene lo scambio dei messaggi con il protocollo RTSP? m Spiega com'è organizzata la distribuzione dei contenuti su una rete CDN. VolIP: LA TECNOLOGIA PER LA VOCE =] VoIP: LA TECNOLOGIA PER LA VOCE 8.1 L'applicazione Voice over IP VoIP (Voice over IP), chiamata anche Internet Telephony, è un\u0018applicazione real time che utilizza i protocolli della rete IP e le relative tecniche di routing per implementare una rete telefonica distribuita e flessibile. Le problematiche che questo approccio comporta sono quelle descritte nell\u0019Unità 8 del volume del terzo anno a proposito della QoS: ottimizzare le prestazioni della rete in termini di banda, tasso d'errore e di pacchetti persi, latenza e jitter. Per evitare il meccanismo di acknowledgment e delle eventuali ritrasmissioni del protocollo TCP, le applicazioni VoIP utilizzano UDP come protocollo di livello Transport, scelta comune a molte applicazioni real time. Infatti, la perdita di alcuni pacchetti durante una conversazione audio non ne compromette la comprensione da parte degli interlocutori. Nel caso di trasporto di dati audio e video, si usa il protocollo RTP (Real Time Transport Protocol), descritto nella Lezione precedente. All'inizio VoIP fu presentata come un\u0018applicazione che consentiva di effettuare tele- fonate gratuitamente, ma il suo successo è dovuto anche ad altre caratteristiche che migliorano il servizio rispetto alla telefonia tradizionale: * realizzazione più semplice: molte funzioni che prima erano distribuite in vari punti di accesso alla rete, ora sono centralizzate, ne consegue una più veloce in- stallazione e riduzione delle attivitd di amministrazione; * rete di trasporto IP: non è più necessario riservare linee dedicate per il traffico telefonico, la voce viene trasportata nelle reti IP come gli altri dati, & perd neces- saria una configurazione iniziale; * riduzione dei costi: è significativa per tutti, ma soprattutto per le aziende dove si fanno quotidianamente molte telefonate e spesso internazionali; * offertadiservizia valore aggiun- to: I'infrastruttura VolP si presta bene a realizzare vari servizi per gli utenti, quali trasferimento di chia- mata, richiamo automatico, mes- saggistica e video-conversazione; * anytime-anywhere: |'utente puo telefonare in qualunque momen- to e ovunque si trovi effettuando un accesso a Internet e usando un account registrato (FIGURA 12). FIGURA 12 La comunicazione tra dispositivi mobili e fissi LEZIONE 8 389 UNITÀ 8 FIGURA 13 Come funziona un telefono VolP L'APPLICATION LAYER DEL TCP/IP 8.2 Il telefono IP La telefonia su IP richiede l\u0019impiego di tecniche di digitalizzazione della voce, come mostrato nella FIGURA 13. \\/\\/VV\\/ \u0014 OO0 pacchetti IP pacchetti IP HNE \u0014> V\\/\\/VV pacchetto iP Creazione Estrazione ) ' chiamante Telefono VoIP Telefono VoIP chiamato Dinamica Nel linguaggio musicale la di- namica si occupa dell\u0018intensi- ta dei suoni e della loro gra- dazione da adottare nell'ese- cuzione di una composizione. Software o hardware che si occupa della codifica digita- le, e decodifica, di un segna- le audio o video, utilizzando tecniche di compressione dei dati. Nei sistemi di telecomu- nicazioni, il codec attua anche la codifica di canale sui dati da trasmettere. Esempi di codec audio sono wav e mp3. Codec spesso utilizzati in VoIP sono G711 e G.729. 390 11 segnale audio che si ottiene dal microfono viene campionato con una velocita elevata e quantizzato per trasformarlo da segnale analogico a digitale (conversio- ne A/D). E successivamente codificato per adattarlo al tipo di canale trasmissivo (riduzione del bit rate, compressione, regolazione della #dinamica). Dopo la codifica la voce viene inserita nei pacchetti IP da trasmettere sulla rete. In genere, un pacchetto contiene 20 o 30 ms di audio. Questo processo avviene nel dispositivo chiamato telefono VoIP utilizzato dalla persona che inizia la chiamata. Quando il pacchetto che contiene la voce arriva a destinazione, viene consegnato al telefono VoIP della persona chiamata e qui subisce il processo inverso di estra- zione dei dati dal pacchetto IP, di decodifica e conversione in segnale analogico (conversione D/A). Levoluzione delle tecniche di codifica della voce e, più in generale, dei segnali audio, hanno portato alla specifica di vari tipi di codici (abbreviati in #codec). Attualmente i codec impiegati nel VoIP comprimono l'audio di un fattore 8 o 10 rispetto alla te- lefonia tradizionale. In fase di codifica, i codec applicano la tecnica di soppressione dei silenzi, interrom- pendo la trasmissione durante i periodi di inattivita. Infatti, durante una chiamata la percentuale di silenzi è piuttosto elevata e queste tecniche consentono un notevole risparmio di bandwidth. Nella fase di decodifica, i codec possono compensare eventuali pacchetti persi du- rante la trasmissione cosi da rendere l'audio accettabile dall'orecchio umano. Una tecnica utilizzata è la FEC (Forward Error Correction) che consiste nell'inserire informazioni ridondanti nei pacchetti unitamente ai dati originali, cosi da poterle uti- lizzare in fase di ricezione per recuperare le informazioni contenute nei pacchetti per- si. Questa tecnica è valida, perd, se la percentuale di pacchetti persi è inferiore al 20%. Unaltra tecnica utilizzata dal ricevitore è la ripetizione dei pacchetti: il contenuto dei pacchetti persi si sostituisce con quello dei pacchetti che li hanno appena prece- duti e sono arrivati integri a destinazione. Spesso, però, quando il numero di pacchetti persi è basso, si sfrutta la capacita di recu- pero dell'orecchio umano, che & in grado di tollerare bene fino al 5% di pacchetti persi. Sulla qualita della comunicazione incide maggiormente la variabilita nel tempo di ar- rivo dei pacchetti (jitter) che può essere contenuta con I'impiego di buffer, lato rice- zione, prestando perd attenzione affinché non introducano un ritardo nella consegna. Per questo motivo si utilizzano dei buffer dinamici, in grado di cambiare dimensione in funzione dello stato della rete. VoIP: LA TECNOLOGIA PER LA VOCE LEZIONE 8 M HARDPHONE E SOFTPHONE FIGURA 14 Telefono VolP per audio conferenze Un telefono VoIP è utilizzato tipicamente nelle reti telefoniche aziendali con centralini PBX. Viene chiamato hardphone, per distinguerlo dalle applicazioni software instal- late sui dispositivi che svolgono funzioni analoghe e vengono chiamate softphone. Skype è un esempio di applicazione softphone. ;@ Un hardphone VoIP dispone di un display, anche touch, e pulsanti con cui interagire con le varie funzionalita del telefono. A differenza dei tradizionali telefoni, essi sono dei computer con un Sistema Ope- rativo che permette loro di svolgere compiti avanzati come, per esempio, una video- chiamata grazie alla videocamera integrata. Esistono anche hardphone con un aspetto diverso da quello tipico del telefono, come quelli utilizzati nelle audio conferenze (FIGURA 14). FIGURA 15 Esempi di softphone Un softphone & unapplicazione software che si installa su computer, tablet o smartphone fornendo a questi dispositivi le funzionalita tipiche di un telefono VoIP (Ficura 15). Lin- terazione con |'utente avviene tramite un'interfaccia grafica. La prima evidente differenza tra hardphone e softphone è nella mobilita: il primo & un telefono da scrivania, pud essere cordless, ma ha una mobilita limitata, il secondo si installa su un dispositivo mobile e segue la persona ovunque si muova. Un hardphone offre una qualitd migliore delle chiamate rispetto a un softphone, in quanto dispone di hardware e software dedicato e quindi non subisce le interferenze delle altre applicazioni che lavorano in background sul computer. Inoltre il funziona- mento del softphone è soggetto allo stato, acceso o spento, del dispositivo che lo ospita. Per contro un hardphone & molto più costoso e meno personalizzabile di un softpho- ne. Infatti, molti softphone offrono le funzionalita di base gratuitamente, richiedono di disporre di hardware come microfono, altoparlanti e videocamera che spesso sono già integrati sui laptop più moderni, oltre che, ovviamente, su tablet e smartphone. 8.3 | centralini telefonici su IP Le aziende di una certa dimensione installano un centralino telefonico per lo smista- mento delle chiamate negli uffici. La rete telefonica privata di un'azienda viene chiamata PBX (Private Branch Exchange). PBX-IP ¢ il sistema basato su IP che supera le limitazioni in numero di linee tele- foniche e di dispositivi telefonici interni che erano presenti nei PBX tradizionali. 391 Asterisk è uno dei più diffusi software PBX-IP, è gratuito e si installa su server Linux. Supporta i protocolli standard SIP, MGCP e H.323, lavorando come gateway tra telefoni IP e la rete PSTN. Utilizza un protocollo interno (IAX, Inter-Asterisk eXchange) per la comunicazione tra i PBX. Asterisk si ritrova come componente centrale in molti prodotti commerciali e progetti open source. FIGURA 16 Un esempio di sistema PBX-IP 392 L'APPLICATION LAYER DEL TCP/IP La FIGURA 16 mostra gli elementi principali che costituiscono una rete VoIP con PBX-IP: * dispositivi IP: sono quelli coinvolti nella chiamata VoIP e devono essere quin- di dei dispositivi IP che dialogano con i protocolli VoIP, hardphone e softphone; ® VolP server: è l'elemento centrale che stabilisce una comunicazione tra chiamante e chiamato, la gestisce e la termina; implementa i protocolli di segnalazione (spiega- ti più avanti) e assicura il routing corretto dei pacchetti IP che trasportano la voce; * Gateway: assicura la comunicazione tra dispositivi VoIP presenti su reti con ca- ratteristiche diverse (Gateway VoIP) e tra dispositivi VoIP e telefoni connessi al- la rete tradizionale PSTN, Public Switched Telephone Network (Gateway PSTN); e Gatekeeper: è un software gestionale che pud essere installato sul server o su un hardware a parte e che mantiene i dati per la tariffazione insieme a quelli delle va- rie chiamate effettuate. Gateway VoIP \u0014\u0014 H t\u0014®\u0014\u0018 Telefono LL - 4} Gateway PSTN dispositivi IP i & Gateway VolP Server VoIP con Gatekeeper dispositivi IP @ | CENTRALINI VIRTUALI O IN CLOUD 11 centralino virtuale & un sistema PBX installato in remoto e fornito come servi- zio attraverso la rete. Le aziende che lo utilizzano possono usufruire dell\u0019eliminazione dei costi di instal- lazione, operativi e di gestione del centralino in quanto è il provider VoIP a farsene carico. E una soluzione altamente scalabile, infatti & possibile aggiungere o rimuove- re numeri interni o linee telefoniche in base alle necessita del momento e il persona- le dell'azienda puo lavorare anche all'esterno utilizzando lo stesso numero interno. Un centralino in cloud funziona allo stesso modo di un PBX installato in un'azienda, ma è ospitato su un server cloud. VolP: LA TECNOLOGIA PER LA VOCE LEZIONE 8 8.4 Il protocollo SIP Nei primi anni in cui ha iniziato a svilupparsi la telefonia su Internet, si utilizzavano spesso tecnologie proprietarie, ma anche successivamente, quando furono emessi i primi standard definiti dagli enti di standardizzazione, le modalita di realizzazione e i protocolli specificati erano svariati, sia proprietari sia standard sviluppati in am- bito ITU-T. Tutti, perd, mantenevano la distinzione, derivata dalle reti telefoniche, tra: * protocollo di segnalazione: si occupa delle fasi di instaurazione e disconnessio- ne della chiamata e dei servizi aggiuntivi, come quelli di #directory per la gestio- Directory ne dei contatti; E un elenco di nomi, nella te- \" & e g . lefonia è I'elenco telefonico . 3 n protocollo di trasporto: quando la chiamata & stabilita, gestisce il trasferimento fislegtone dirsciori: dei pacchetti che trasportano la voce tra i telefoni VoIP. Come molti altri servizi che abbiamo visto in questa Unità, anche VoIP è implemen- tato secondo il paradigma Client-Server, quindi il protocollo di segnalazione regola la comunicazione tra client VoIP e server VoIP: il client invia al server la richiesta di chiamare un certo numero e il server lo contattera per instaurare la comunicazione tra i due telefoni. Una volta instaurata la comunicazione, si usera un protocollo di trasporto per la tra- smissione dei pacchetti che contengono la voce. Verso la fine degli anni Novanta si diffuse il protocollo di segnalazione H.323 de- finito in ambito ITU-T. H.323 era una suite di protocolli e utilizzava molti prin- cipi della telefonia tradizionale. La sua complessita di realizzazione e la diffusio- ne sempre maggiore del VoIP generd l'esigenza di protocolli più snelli e semplici da implementare. Nacque un gruppo di lavoro in ambito IETF per la definizione di un nuovo protocollo di segnalazione per il VoIP che porto alla specifica di SIP (Session Initiation Protocol). IETF defini anche un nuovo protocollo di trasporto, RTP, che si inserisce tra il pro- tocollo di livello Transport UDP e i protocolli VoIP di livello applicativo, come visto nella precedente Lezione. Le specifiche di SIP sono state pubblicate nell\u0019RFC 3261 nel 2002; pur non essendo mai stato reso obsoleto, questo RFC è stato più volte aggiornato negli anni successi- vi, con oltre venti nuovi RFC. 1l protocollo SIP offre meccanismi per: * la notifica della chiamata al chiamato, equivalente allo squillo del telefono nella telefonia tradizionale; * lanegoziazione tra il chiamante e il chiamato sui dispositivi da usare e sulla codifica; * la chiusura della chiamata, equivalente al riaggancio del telefono nella telefonia tradizionale; e permettere al chiamante di conoscere I'indirizzo del chiamato, infatti potrebbe aver ottenuto l\u0019indirizzo IP da un DHCP, quindi non fisso; * la gestione della chiamata, per esempio è possibile allargare la conversazione ad altri interlocutori, cambiare codifica durante la chiamata, ecc. 1l protocollo SIP può essere usato insieme a RTP, ma non è un obbligo, infatti le spe- cifiche prevedono che possa lavorare anche con altri protocolli e servizi. 393 UNITÀ 8 FIGURA 17 Componenti Client-Server di SIP con Proxy server 394 L'APPLICATION LAYER DEL TCP/IP Su ogni dispositivo SIP è installata un'applicazione di tipo Client-Server che si chia- ma UA (User Agent). Un UA può operare come client, UAC (User Agent Client), e inviare una richiesta al server, oppure come server, UAS (User Agent Server), che ela- bora la richiesta del client e invia la risposta. Un UA può svolgere entrambi i ruoli, quindi essere sia un client che inizia una con- versazione inviando a un server un messaggio di request, sia un server che rispon- de alla richiesta di un client. Si possono avere diversi tipi di UAS: * Proxy server: riceve le richieste SIP da un client e le inoltra in rete verso gli UAS, riceve le risposte e le inoltra verso gli UAC; * Redirect server: invece di inoltrare la chiamata al server di destinazione, restituisce al client il suo indirizzo, cosi questi potra contattare il nuovo server direttamente; * Registrar server: gli utenti SIP devono registrare la loro posizione in un Registrar server, che di solito si trova all'interno di un Proxy o Redirect server e memorizza le informazioni ricevute in un Location database. Proxy server Location Invia + database H richiesta Registrar . & :lp Invia S phone risposta phone La FIGURA 17 mostra un esempio di comunicazione tra due telefoni SIP tramite un Proxy server che svolge anche le funzioni di Registrar server. @ GLI INDIRIZZI SIP Nel protocollo SIP gli indirizzi sono definiti nel formato URI (Uniform Resource Identifier). Esempi di indirizzi SIP: * sip:bianchi@azienda.com * sip:bianchi@178.25.49.161 * sips:+00393351069482@azienda.com:5062 dove \u001csips\u001d indica che il trasporto dei dati avviene con TLS. Gli indirizzi SIP possono essere inseriti in una pagina web come URL: quando il vi- sitatore clicca sull'indirizzo, I'applicazione VoIP del suo dispositivo si attiva e invia la richiesta di chiamata. @ | COMANDI DI SIP 11 protocollo SIP è stato progettato in origine per essere molto semplice, con un nu- mero limitato di comandi: e INVITE: richiesta per stabilire una connessione, si invita un utente a ricevere una chiamata; e ACK: conferma della ricezione della richiesta INVITE; VoIP: LA TECNOLOGIA PER LA VOCE BYE: termina la connessione tra gli utenti; CANCEL: cancella ogni azione in sospeso, generalmente una richiesta INVITE; OPTIONS: interroga il server per avere un elenco delle sue funzionalita e stato; REGISTER: comunica a un SIP registrar uno o più indirizzi di contatto dell'uten- te (UA). 1 numerosi RFC di aggiornamento hanno introdotto nuovi comandi: SUBSCRIBE, NOTIFY, INFO, UPDATE, ecc. Per i messaggi di response (le risposte alle richieste) SIP usa dei codici simili a quelli usati da HTTP, per esempio: 100 (Trying); 200 (OK); 404 (Not found); 500 (Server internal failure). Nella FiGura 18 & mostrata una chiamata tra due telefoni SIP, il successivo scambio di informazioni in streaming tramite i protocolli RTP e RTCP e la chiusura della con- nessione. j SIP Phone A . SIP Phone B 1] SIP/SDP INVI SIP PROXY LI status: 100 Tryin! SIP/SDP INVITE » 2 SS Status: 183 Session Progress Status: 183 Session Progre: status: 200 OK status: 200 OK SIP Aci X SIP ACK RTP/RTCP stream _\u0014 : | -- o e i i e i 5 it o 8 +i SIP: BYE P SIP: BYE I Status: 200 OK $ tatus: 200 OK FISSA CONOSCEN m Descrivi le principali caratteristiche del VolP. = Qual è il ruolo dei codec nei servizi VolP? m Che cosa sono i PBX-IP? = Quale protocollo è stato standardizzato da IETF per la telefonia su IP? m Spiega il ruolo client e server dello User Agent presente sui dispositivi SIP. #prendinota WhatsApp utilizza SIP? La famosa piattaforma di messaggistica offre servizi di telefonia su IP, infatti permet- te di effettuare audio e video chiamate dall'applicazione client installata su dispositivi mobili o sul computer. WhatsApp non utilizza SIP, bensi un protocollo di segna- lazione proprietario. FIGURA 18 Esempio di colloquio tra telefoni SIP tramite Proxy server 395","libVersion":"0.2.3","langs":""}