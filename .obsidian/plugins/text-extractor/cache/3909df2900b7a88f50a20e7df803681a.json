{"path":"SISTEMI/Livello 4/DOCS/TCP.pdf","text":"Chi riceve dice al mittente di rallentare se la comunicazione è congestionata C o n c e t t i b a s e : T C P s i b a s a s u i s e r v i z i d i l i v e l l o 3 c h e s o n o r i t e n u t i i n a f f i d a b i l i . N a s c e p e r i n s t a u r a r e u n a c o m u n i c a z i o n e s t a b i l e t r a m i t t e n t e e d e s t i n a t a r i o . E s s e n d o T C P u n p r o t o c o l l o c o n n e s s o v i e n e i n t r o d o t t o i l c o n c e t t o d i s e s s i o n e c o m u n i c a t i v a . S E S S I O N E : P e r i o d o d i t e m p o n e l q u a l e m i t t e n t e e d e s t i n a t a r i o c o n d i v i d o n o g l i s t e s s i d a t i . S c a d u t o i l t e m p o i d a t i v e n g o n o s c o r t a t i . S e s i v u o l e c o m u n i c a r e n u o v a m e n t e è n e c e s s a r i o a p r i r e u n a n u o v a s e s s i o n e . U n a s e s s i o n e p u ò e s s e r e v o l o n t a r i a m e n t e c h i u s a d a l m i t t e n t e e / o d a l d e s t i n a t a r i o . I l t r a s f e r i m e n t o d i d a t i a v v i e n e s o l a m e n t e a s e g u i t o d i a p e r t u r a d i u n a s e s s i o n e . A p r i r e u n a s e s s i o n e c o m u n i c a t i v a e q u i v a l e a I N S T A U R A R E U N A C O N N E S S I O N E . U n a c o n n e s s i o n e T C P p u ò s c a d e r e o p p u r e e s s e r e a b b a t t u t a . D u r a n t e u n a s e s s i o n e c o m u n i c a t i v a v i e n e g a r a n t i t o i l s e r v i z i o d i C O N S E G N A I N S E Q U E N Z A . I N S T A U R A R E L A C O N N E S S I O N E T C P c o n n e c t i o n e s t a b l i s h m e n t Q u e s t a f a s e a v v i e n e a t t r a v e r s o u n o s c h e m a d i s c a m b i o d a t i c h e p r e n d e i l n o m e d i \" t h r e e - w a y - h a n d s h a k e \" . O g n i p a c c h e t t o d a t i è n u m e r a t o . M I T T E N T E ① S e g n a l e s i n c r o n i z z a z . N u m e r o i n i z i a l e d e i p a c c h e t t i . e s : 1 3 0 ③ A C K P a c c h e t t o d a t i a s c e l t a + 1 Q u e s t a f a s e h a i l c o m p i t o d i m e t t e r e d ' a c c o r d o m i t t e n t e e d e s t i n a t a r i o s u l l a n u m e r a z i o n e d e i p a c c h e t t i T C P . I n q u e s t o c a s o m i t t e n t e i n i z i a d a l p a c c h e t t o 1 3 0 , d e s t i n a t a r i o i n i z i a d a l 2 7 0 . D a q u e s t o m o m e n t o m i t t e n t e e d e s t i n a t a r i o s o n o a l l i n e a t i . Q u a n d o d u e d i s p o s i t i v i s o n o c o m m e s s i a l i v e l l o 4 s i i n s t a u r a u n m e c c a n i s m o d i f u n z i o n a m e n t o f u l l d u p l e x . 2 f l u s s i d i d a t i u n o i n u n s e n s o e l ' a l t r o n e l s e n s o o p p o s t o . S Y N + × 5 I N + A C K # 1 ) + \" S Y N + A C K ( 1 3 1 ) - A C K ( ✗ - 1 1 ) S Y N + 1 3 0 l 2 7 0 2 7 1 A R I R a B O g n i t r a s f e r i m e n t o p u ò a v v e n i r e s o l t a n t o d o p o c h e i d u e T C P h a n n o i n s t a u r a t o u n a c o n n e s s i o n e . D a q u i i n a v a n t i s i a p p l i c a n o i m e c c a n i s m i d i c o n f e r m a e c o n t r o l l o d i f e s s o . I b y t e d a t r a s f e r i r e d i l i v e l l o a p p l i c a t i v o ( q u e l l o c h e s t a s o p r a a l 4 ) s o n o s u d d i v i s i i n b l o c c h i e i n c a p s u l a t i n e l l e P D U d e l T C P . l a P D U d e l T C P è c h i a m a t a a n c h e S E G M E N T T C P U n a v o l t a c h e i d a t i s o n o s t a t i s c a m b i a t i è n e c e s s a r i o t e r m i n a r e l a c o n n e s s i o n e . C o n n e c t i o n T e r m i n a t i o n A • 1 2 3 2 3 2 3 2 3 F I N E , A C K = ✗ P a c c h e t t o × S i g n i f i c a c h e A s i a s p e t t a i l p a c c h e t t o n u m e r o 9 c o m e p r o s s i m o p a c c h e t t o P a c c h e t t o ' A C K ✗ + 1 / F L U S S O D A A - > B - R M I N A T O I z S o l o d a A v e r s o B F I N E p a c c h e t t o Z ­ a c k = ✗ + 1 p a c c h e t t o * , A C K 2 + 1 T E R M I N A T O F L U S S O D A B → A C O N F E R M A T C P C o m e f u n z i o n a i l m e c c a n i s m o d i c o n f e r m a d e l T C P , T C P n e l l a m o d a l i t à d i b a s e ( e s i s t e u n a m o d a l i t à a v a n z a t a ) u t i l i z z a u n m e c c a n i s m o d i c o n f e r m a i b r i d o t r a G b h e S e l e c t i v e R e p e a t . N e l c a s o d i e r r o r e i l m i t t e n t e r i t r a s m e t t e l e P D U a p a r t i r e d a q u e l l a a n d a t a i n e r r o r e . O A C K h a i l s i g n i f i c a t o d i : p a c c h e t t o r i u n i t o c o r r e t t a m e n t e , m i a s p e t t o i l p r o s s i m o G b h ⇒ n - 2 U t r o m = 2 M S G 1 M S G 2 M S G 3 M S G M S G 4 i P D U T r a s m e s s a e T r a s m e s s a i n c o n f e r m a t a a t t e s a d i c o n f e r m a I t r a m a v a n z a m a n o m a n o c h e a r r i v a n o g l i A C H I l p r o t o c o l l o T C P p r e v e d e u n m e c c a n i s m o d i c o n t r o l l o d i f l u s s o . T a l e c o n t r o l l o a v v i e n e m o d i f i c a n d o d i n a m i c a m e n t e i l v a l o r e d e l l a f i n e s t r a W h a m d e l m i t t e n t e . C h i r i c e v e c o m u n i c a d i v o l t a i n v o l t a l ' a m p i e z z a d e l l a f i n e s t r a W h a m d e l d e s t i n a t a r i o . N U M E R A Z I O N E P D U D a t r a s m e t t e r e T C P T r a n s m i s s i o n C o n t r o l P r o t o c o l o c o n f e r m a t o o F r a m m e n t a z i o n e : N o • C o n s e g n a i n s e q u e n z a • C o n t r o l l o d i f l u s s o ← • C o n n e s s o D E S T I N A T A R I O S e g n a l e s i n c r o n i z z a z i o n e A C K N u m e r o d e l P a c c h e t t o + 1 ② N u m e r o i n i z i a l e d e i p a c c h e t t i d e l d e s t i n a t a r i o . ✗ e s : 2 7 0 I l d e s t i n a t a r i o f a P I G G Y B A C K I N G N U M E R A Z I O N E P D U S i d e v o n o t r a s f e r i r e 7 5 b y t e c o n p r o t o c o l l o T O M o s t r a r e c o m e v e n g o n o c o n f i g u r a t i i l S e g . n u m b e r e l ' A C K d i r i t o r n o c o n M S S - 2 0 S I G N I F I C A T O C A M P I • S e q - N u m b e r : n u m e r o d e l p r i m o b y t e d e l l a s e q u e n z a d a i n v i a r e . • A c k - N u m b e r : n u m e r o d e l l ' A C K c h e i n s e r i s c e c h i r i c e v e . • M S S : M a x i m u m S e g m e n t S i z e : q u a n t i b y t e s o n o c o n t e n e n t i a l m a s s i m o i n u n p a c c h e t t o . E S E M P I O P R A T I C O S i v o g l i o n o s p e d i r e 7 5 b y t e c o n p r o t o c o l l o T C P e M S S = 2 0 b y t e . M o s t r a r e i p a c c h e t t i i n u s c i t a e i r e l a t i v i S e q - N u m b e r e A 1 - N u m b e r . = 1 b y t e 0 1 2 3 4 5 6 t 8 9 1 0 1 1 I L 1 3 1 4 1 5 1 6 1 - 1 8 1 9 2 1 2 2 2 3 4 2 5 7 2 7 3 7 4 A P P L I C A T I V O È : E ← È È H E A D E R P A Y L O A D ÷ E < i - ~ à = H E A D E R P A Y L O A D M i a s p e t t o c h e i l p r o s s i m o p a c c h e t t o a b b i a s e q - N r = 2 0 H o r i c e v u t o c o r r e t t a m e n t e i l p a c c h e t t o c o n s e q . h r = 0 8 È É 3 9 4 0 v u o t o p e r c h é i l d e s t i n a t a r i o n o n m a n d a d a t i & E I = p : & ⇒ ~ ÷ È E % & E I € § É & È & o ¥ è h b i t a b a t e 2 4 b y t e ✓ ✓ ✓ ✓ ✗ ✓ ✓ ✗ × ✓ P A C C H E T T O B i t a 1 s u l l a b a s e d e l l o s c o p o d e l p a c c h e t t o S e r v e p e r f a r e i l c o n t r o l l o d i f l u s s o . N u m e r o g r a n d e s e i l d e s t i n a t a r i o è l i b e r o , n u m e r o p i c c o l o s e d e s t i n a t a r i o c o n g e s t i o n a t o .","libVersion":"0.2.3","langs":""}